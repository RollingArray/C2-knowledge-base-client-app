!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,i){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(r):n.value}})(t,e,i||t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,i=c(t);if(e){var n=c(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return a(this,r)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{xhH8:function(a,o,s){"use strict";s.r(o),s.d(o,"MySpacePageModule",function(){return G});var u=s("ofXK"),f=s("tyNb"),p=s("TEn/"),b=s("nRLJ"),v=s("Tfoj"),l=s("dWgT"),h=s("/YVT"),y=s("l9xV"),d=s("4qs/"),g=s("ksD8"),m=s("0/kf"),_=s("T7yn"),w=s("UHEk"),O=s("sWve"),k=s("n1ax"),I=s("YEJG"),j=s("mrSG"),R=s("pcCU"),T=s("vGT6"),S=s("1G5W"),A=s("fXoL"),D=s("y7ii"),E=s("xSju"),x=s("Ppwi"),P=s("iMrC"),M=s("Pghi"),C=s("SIl3"),K=s("GFOT"),N=s("NvSi"),Y=s("yoFs");function U(t,e){if(1&t&&A.Kb(0,"app-no-data",13),2&t){var r=A.Yb();A.bc("activity",r.noDataActivity)("reviewer",r.noDataReview)("text",r.stringKey.NO_DATA)}}function V(t,e){if(1&t){var r=A.Pb();A.Ob(0,"ion-card"),A.Ob(1,"app-activity-short-view",15),A.Wb("click",function(){A.gc(r);var t=e.$implicit;return A.Yb(2).openActivityOptions(t)}),A.Nb(),A.Nb()}if(2&t){var i=e.$implicit;A.zb(1),A.bc("activity",i)}}function F(t,e){if(1&t&&(A.Mb(0),A.kc(1,V,2,1,"ion-card",14),A.Lb()),2&t){var r=A.Yb();A.zb(1),A.bc("ngForOf",r.activities)}}var J,W,z=[{path:"",component:(J=function(a){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(p,a);var o,s,u,f=n(p);function p(e,r,i,n,a){var c;return t(this,p),(c=f.call(this,e)).localStorageService=r,c.projectActivityService=i,c.loadingService=n,c.alertService=a,c._hasData=!1,c}return o=p,(s=[{key:"breadCrumb",get:function(){return this._breadCrumb},set:function(t){this._breadCrumb=t}},{key:"hasData",get:function(){return this._hasData},set:function(t){this._hasData=t}},{key:"activities",get:function(){return this._activities},set:function(t){this._activities=t}},{key:"pageTitle",get:function(){var t;switch(this._mySpaceType){case"activity":t=this.stringKey.MY_ACTIVITY;break;case"review":t=this.stringKey.MY_REVIEW}return t}},{key:"pageInfo",get:function(){var t;switch(this._mySpaceType){case"activity":t=this.stringKey.ACTIVITY_INFO;break;case"review":t=this.stringKey.ACTIVITY_REVIEW_INFO}return t}},{key:"noDataActivity",get:function(){return"activity"==this._mySpaceType}},{key:"noDataReview",get:function(){return"review"==this._mySpaceType}},{key:"activeUserId",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.localStorageService.getActiveUserId().pipe(Object(S.a)(this.unsubscribe)).subscribe(function(t){e._loggedInUser=t});case 1:case"end":return t.stop()}},t,this)}))}},{key:"ngOnInit",value:function(){this.activeUserId(),this._projectId=this.activatedRoute.snapshot.paramMap.get("projectId"),this._mySpaceType=this.activatedRoute.snapshot.paramMap.get("spaceType")}},{key:"ionViewDidEnter",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){r(c(p.prototype),"ngOnDestroy",this).call(this)}},{key:"generateBreadcrumb",value:function(){var t;return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=null===(t=this._projectActivityModel.projectDetails)||void 0===t?void 0:t.projectName,e.t0=this._mySpaceType,e.next="activity"===e.t0?4:"review"===e.t0?6:7;break;case 4:return this._breadCrumb=[r,this.stringKey.MY_ACTIVITY],e.abrupt("break",7);case 6:this._breadCrumb=[r,this.stringKey.MY_REVIEW];case 7:case"end":return e.stop()}},e,this)}))}},{key:"loadData",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadingService.present("".concat(T.a.API_REQUEST_MESSAGE_1)),this.projectActivityService.getProjectMySpace({projectId:this._projectId,userId:this._loggedInUser,assigneeUserId:this._loggedInUser,reviewerUserId:this._loggedInUser},this._mySpaceType).pipe(Object(S.a)(this.unsubscribe)).subscribe(function(t){return Object(j.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingService.dismiss();case 2:if(e.t0=t.success,!e.t0){e.next=8;break}return this._projectActivityModel=t.data,e.next=7,this.generateBreadcrumb();case 7:this._projectActivityModel.projectActivities.success?(this._activities=this._projectActivityModel.projectActivities.data,this._hasData=!0):this._hasData=!1;case 8:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"openActivityOptions",value:function(t){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.router.navigate([t.activityId,"review"],{relativeTo:this.activatedRoute});case 1:case"end":return e.stop()}},e,this)}))}}])&&e(o.prototype,s),u&&e(o,u),p}(R.a),J.\u0275fac=function(t){return new(t||J)(A.Jb(A.t),A.Jb(D.a),A.Jb(E.a),A.Jb(x.a),A.Jb(P.a))},J.\u0275cmp=A.Db({type:J,selectors:[["project-my-space"]],features:[A.wb],decls:17,vars:8,consts:[[3,"appScrollTracker"],["color","primary"],["slot","start"],["slot","end",3,"click"],["slot","start",3,"src"],["scrollEvents","true"],["scrollArea",""],[3,"title","info"],[3,"crumbs"],["slot","fixed",3,"ionRefresh"],[3,"activity","reviewer","text",4,"ngIf"],[4,"ngIf"],["id","dum-height"],[3,"activity","reviewer","text"],[4,"ngFor","ngForOf"],[3,"activity","click"]],template:function(t,e){if(1&t&&(A.Ob(0,"ion-header",0),A.Ob(1,"ion-toolbar",1),A.Ob(2,"ion-title"),A.lc(3),A.Nb(),A.Ob(4,"ion-buttons",2),A.Kb(5,"ion-menu-button"),A.Nb(),A.Ob(6,"ion-buttons",3),A.Wb("click",function(){return e.loadData()}),A.Kb(7,"ion-icon",4),A.Nb(),A.Nb(),A.Nb(),A.Ob(8,"ion-content",5,6),A.Kb(10,"app-page-info-title",7),A.Kb(11,"app-breadcrumb",8),A.Ob(12,"ion-refresher",9),A.Wb("ionRefresh",function(t){return e.doRefresh(t)}),A.Kb(13,"ion-refresher-content"),A.Nb(),A.kc(14,U,1,3,"app-no-data",10),A.kc(15,F,2,1,"ng-container",11),A.Kb(16,"div",12),A.Nb()),2&t){var r=A.fc(9);A.bc("appScrollTracker",r),A.zb(3),A.nc(" ",e.pageTitle," "),A.zb(4),A.bc("src",e.stringKey.ICON_REFRESH),A.zb(3),A.bc("title",e.pageTitle)("info",e.pageInfo),A.zb(1),A.bc("crumbs",e.breadCrumb),A.zb(3),A.bc("ngIf",!e.hasData),A.zb(1),A.bc("ngIf",e.hasData)}},directives:[p.u,M.a,p.Q,p.O,p.k,p.B,p.v,p.o,C.a,K.a,p.F,p.G,u.j,N.a,u.i,p.l,Y.a],styles:[""]}),J)},{path:":activityId/review",loadChildren:function(){return Promise.all([s.e(7),s.e(6)]).then(s.bind(null,"Pmid")).then(function(t){return t.ProjectActivityReviewPageModule})}}],G=((W=function e(){t(this,e)}).\u0275fac=function(t){return new(t||W)},W.\u0275mod=A.Hb({type:W}),W.\u0275inj=A.Gb({imports:[[u.b,p.R,I.a,y.a,h.a,v.a,g.a,k.a,m.a,_.a,w.a,O.a,l.a,d.a,b.a,f.k.forChild(z)]]}),W)}}])}();