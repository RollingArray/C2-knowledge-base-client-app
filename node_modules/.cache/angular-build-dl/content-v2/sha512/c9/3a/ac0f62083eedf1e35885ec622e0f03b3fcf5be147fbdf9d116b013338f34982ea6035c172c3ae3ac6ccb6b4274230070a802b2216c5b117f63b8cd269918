(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{GFOT:function(t,e,o){"use strict";o.d(e,"a",function(){return l});var n=o("pcCU"),r=o("fXoL"),i=o("ofXK"),s=o("TEn/");function a(t,e){1&t&&(r.Ob(0,"span"),r.Ob(1,"span"),r.lc(2,"\xa0\xa0"),r.Nb(),r.lc(3,"/"),r.Ob(4,"span"),r.lc(5,"\xa0\xa0"),r.Nb(),r.Nb())}function c(t,e){if(1&t&&(r.Ob(0,"span"),r.lc(1),r.kc(2,a,6,0,"span",4),r.Nb()),2&t){const t=e.$implicit,o=e.last;r.zb(1),r.nc(" ",t," "),r.zb(1),r.bc("ngIf",!o)}}function b(t,e){if(1&t&&(r.Ob(0,"ion-item",1),r.Kb(1,"ion-icon",2),r.Ob(2,"span"),r.lc(3,"\xa0"),r.Nb(),r.kc(4,c,3,2,"span",3),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.bc("src",t.stringKey.ICON_BREADCRUMB),r.zb(3),r.bc("ngForOf",t.crumbs)}}let l=(()=>{class t extends n.a{constructor(t){super(t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.t))},t.\u0275cmp=r.Db({type:t,selectors:[["app-breadcrumb"]],inputs:{crumbs:"crumbs"},features:[r.wb],decls:1,vars:1,consts:[["lines","none","color","secondary",4,"ngIf"],["lines","none","color","secondary"],[3,"src"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,e){1&t&&r.kc(0,b,5,2,"ion-item",0),2&t&&r.bc("ngIf",e.crumbs)},directives:[i.j,s.x,s.v,i.i],styles:["ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:90%;margin:10px}"]}),t})()},ccGt:function(t,e,o){"use strict";o.r(e),o.d(e,"ProjectGoalPageModule",function(){return L});var n=o("ofXK"),r=o("tyNb"),i=o("TEn/"),s=o("dWgT"),a=o("UHEk"),c=o("T7yn"),b=o("YEJG"),l=o("fXoL");let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[n.b,b.a,i.R,c.a,a.a]]}),t})();var u=o("4qs/"),p=o("0/kf"),h=o("sWve"),g=o("mrSG"),f=o("ZFsI"),O=o("pcCU"),v=o("vGT6"),m=o("1G5W"),I=o("Mk8q"),_=o("y7ii"),j=o("KcFf"),C=o("Ppwi"),G=o("RStK"),y=o("Pghi"),D=o("SIl3"),E=o("GFOT"),K=o("NvSi"),N=o("wCMH"),T=o("gtxo");function S(t,e){if(1&t&&l.Kb(0,"app-no-data",15),2&t){const t=l.Yb();l.bc("goal",!0)("text",t.errorMessage)}}function M(t,e){if(1&t){const t=l.Pb();l.Ob(0,"ion-card"),l.Ob(1,"app-panel-header",17),l.Wb("event",function(){l.gc(t);const o=e.$implicit;return l.Yb(2).openGoalOptions(o)}),l.Nb(),l.Kb(2,"app-custom-fields",18),l.Nb()}if(2&t){const t=e.$implicit,o=l.Yb(2);l.zb(1),l.bc("panelTitle",t.goalName)("panelIcon",o.stringKey.ICON_GOAL)("panelColor",o.stringKey.COLOR_MEDIUM)("eventIcon",o.stringKey.ICON_MORE)("isEventRequired",!0),l.zb(1),l.bc("description",t.goalDescription)}}function A(t,e){if(1&t&&(l.Mb(0),l.kc(1,M,3,6,"ion-card",16),l.Lb()),2&t){const t=l.Yb();l.zb(1),l.bc("ngForOf",null==t.projectGoalModel?null:t.projectGoalModel.projectGoals.data)}}const R=[{path:"",component:(()=>{class t extends O.a{constructor(t,e,o,n,r){super(t),this.localStorageService=e,this.projectGoalService=o,this.loadingService=n,this.commonCrudService=r,this._hasData=!1}set breadCrumb(t){this._breadCrumb=t}get breadCrumb(){return this._breadCrumb}set hasData(t){this._hasData=t}get hasData(){return this._hasData}set goals(t){this._goals=t}get goals(){return this._goals}set projectGoalModel(t){this._projectGoalModel=t}get projectGoalModel(){return this._projectGoalModel}activeUserId(){return Object(g.a)(this,void 0,void 0,function*(){this.localStorageService.getActiveUserId().pipe(Object(m.a)(this.unsubscribe)).subscribe(t=>{this._loggedInUser=t})})}ngOnInit(){this.activeUserId(),this._projectId=this.activatedRoute.snapshot.paramMap.get("projectId"),this.errorMessage=this.stringKey.NO_DATA_GOAL}ionViewDidEnter(){this.loadData()}ngOnDestroy(){super.ngOnDestroy()}loadData(){return Object(g.a)(this,void 0,void 0,function*(){this.loadingService.present(`${v.a.API_REQUEST_MESSAGE_1}`),this.projectGoalService.getProjectGoals({projectId:this._projectId,userId:this._loggedInUser}).pipe(Object(m.a)(this.unsubscribe)).subscribe(t=>Object(g.a)(this,void 0,void 0,function*(){this.loadingService.dismiss(),t.success?(this._projectGoalModel=t.data,yield this.generateBreadcrumb(),this._projectGoalModel.projectGoals.success?this._hasData=!0:this.errorMessage=this.stringKey.NO_DATA_GOAL):this.errorMessage=t.error.message}))})}generateBreadcrumb(){var t;return Object(g.a)(this,void 0,void 0,function*(){let e=null===(t=this._projectGoalModel.projectDetails)||void 0===t?void 0:t.projectName;this._breadCrumb=[e,this.stringKey.PROJECT_GOAL]})}addProjectGoal(){return Object(g.a)(this,void 0,void 0,function*(){this.commonCrudService.openModalWithCreateOperation({userId:this._loggedInUser,projectId:this._projectId,operationType:`${f.a.Create}`},I.a.CRUD_GOAL),this.commonCrudService.loadDataUponModalClose.subscribe(t=>{!0===t&&this.loadData()})})}editProjectGoal(t){return Object(g.a)(this,void 0,void 0,function*(){t.userId=this._loggedInUser,t.projectId=this._projectId,t.operationType=`${f.a.Delete}`,this.commonCrudService.openModalWithEditOperation(t,I.a.CRUD_GOAL),this.commonCrudService.loadDataUponModalClose.subscribe(t=>{t&&this.loadData()})})}deleteProjectGoal(t){return Object(g.a)(this,void 0,void 0,function*(){t.userId=this._loggedInUser,t.projectId=this._projectId,t.operationType=`${f.a.Edit}`,this.commonCrudService.deleteOperation(t,this.projectGoalService,I.a.CRUD_GOAL,this.stringKey.ALERT_DELETE_PROJECT_GOAL),this.commonCrudService.loadDataUponObjectDeleted.subscribe(t=>{t&&this.loadData()})})}openGoalOptions(t){return Object(g.a)(this,void 0,void 0,function*(){const e=yield this.actionSheetController.create({header:this.stringKey.CHOOSE_YOUR_ACTION,buttons:[{text:this.stringKey.EDIT+" "+this.stringKey.DETAILS,icon:this.stringKey.ICON_EDIT,handler:()=>{this.editProjectGoal(t)}},{text:this.stringKey.DELETE+" "+this.stringKey.DETAILS,icon:this.stringKey.ICON_EDIT,handler:()=>{this.deleteProjectGoal(t)}},{text:this.stringKey.CANCEL,icon:this.stringKey.ICON_CANCEL,handler:()=>{}}]});yield e.present()})}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(l.t),l.Jb(_.a),l.Jb(j.a),l.Jb(C.a),l.Jb(G.a))},t.\u0275cmp=l.Db({type:t,selectors:[["project-users"]],features:[l.wb],decls:19,vars:9,consts:[[3,"appScrollTracker"],["color","primary"],["slot","start"],["slot","end",3,"click"],["slot","start",3,"src"],["scrollEvents","true"],["scrollArea",""],[3,"title","info"],[3,"crumbs"],["slot","fixed",3,"ionRefresh"],["slot","fixed","vertical","bottom","horizontal","end"],["color","dark",3,"click"],[3,"src"],[3,"goal","text",4,"ngIf"],[4,"ngIf"],[3,"goal","text"],[4,"ngFor","ngForOf"],[3,"panelTitle","panelIcon","panelColor","eventIcon","isEventRequired","event"],[3,"description"]],template:function(t,e){if(1&t&&(l.Ob(0,"ion-header",0),l.Ob(1,"ion-toolbar",1),l.Ob(2,"ion-title"),l.lc(3),l.Nb(),l.Ob(4,"ion-buttons",2),l.Kb(5,"ion-menu-button"),l.Nb(),l.Ob(6,"ion-buttons",3),l.Wb("click",function(){return e.loadData()}),l.Kb(7,"ion-icon",4),l.Nb(),l.Nb(),l.Nb(),l.Ob(8,"ion-content",5,6),l.Kb(10,"app-page-info-title",7),l.Kb(11,"app-breadcrumb",8),l.Ob(12,"ion-refresher",9),l.Wb("ionRefresh",function(t){return e.doRefresh(t)}),l.Kb(13,"ion-refresher-content"),l.Nb(),l.Ob(14,"ion-fab",10),l.Ob(15,"ion-fab-button",11),l.Wb("click",function(){return e.addProjectGoal()}),l.Kb(16,"ion-icon",12),l.Nb(),l.Nb(),l.kc(17,S,1,2,"app-no-data",13),l.kc(18,A,2,1,"ng-container",14),l.Nb()),2&t){const t=l.fc(9);l.bc("appScrollTracker",t),l.zb(3),l.nc(" ",e.stringKey.PROJECT_GOAL," "),l.zb(4),l.bc("src",e.stringKey.ICON_REFRESH),l.zb(3),l.bc("title",e.stringKey.PROJECT_GOAL)("info",e.stringKey.PROJECT_GOAL_INFO),l.zb(1),l.bc("crumbs",e.breadCrumb),l.zb(5),l.bc("src",e.stringKey.ICON_ADD),l.zb(1),l.bc("ngIf",!e.hasData),l.zb(1),l.bc("ngIf",e.hasData)}},directives:[i.u,y.a,i.Q,i.O,i.k,i.B,i.v,i.o,D.a,E.a,i.F,i.G,i.q,i.r,n.j,K.a,n.i,i.l,N.a,T.a],styles:[""]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({imports:[[n.b,i.R,b.a,d,p.a,c.a,a.a,h.a,s.a,u.a,r.k.forChild(R)]]}),t})()},dWgT:function(t,e,o){"use strict";o.d(e,"a",function(){return s});var n=o("ofXK"),r=o("TEn/"),i=o("fXoL");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({imports:[[n.b,r.R]]}),t})()}}]);