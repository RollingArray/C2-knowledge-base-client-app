(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+eMj":function(e,t,i){"use strict";i.r(t),i.d(t,"MenuPageModule",function(){return _});var n=i("aqvf"),o=i("ofXK"),r=i("3Pt+"),s=i("tyNb"),c=i("TEn/"),a=i("mrSG"),l=i("1G5W"),d=i("MCLj"),u=i("pcCU"),b=i("vGT6"),h=i("YzNG"),p=i("fXoL"),g=i("Jho9"),v=i("y7ii"),f=i("Ppwi"),m=i("XEr0"),O=i("HabH"),y=i("DGRb");function P(e,t){if(1&e){const e=p.Pb();p.Ob(0,"ion-card"),p.Ob(1,"ion-item",20),p.Wb("click",function(){p.gc(e);const i=t.$implicit;return p.Yb(2).gotoPage(i)}),p.Kb(2,"ion-icon",18),p.lc(3),p.Nb(),p.Nb()}if(2&e){const e=t.$implicit;p.zb(2),p.bc("src",e.icon),p.zb(1),p.nc(" ",e.title," ")}}function S(e,t){if(1&e&&(p.Ob(0,"ion-card",16),p.Ob(1,"ion-item",17),p.Kb(2,"ion-icon",18),p.Ob(3,"ion-label"),p.lc(4),p.Nb(),p.Nb(),p.Ob(5,"ion-menu-toggle",3),p.kc(6,P,4,2,"ion-card",19),p.Nb(),p.Nb()),2&e){const e=t.$implicit,i=p.Yb();p.zb(2),p.bc("src",i.stringKey.ICON_MENU),p.zb(2),p.nc(" ",e.title," "),p.zb(2),p.bc("ngForOf",e.children)}}let j=(()=>{class e extends u.a{constructor(e,t,i,n,o,r,s,c){super(e),this.swUpdate=t,this.menuController=i,this.localStorageService=n,this.loadingService=o,this.dataCommunicationService=r,this.userService=s,this.avatarService=c,this._pages=d.a.APP_PRIMARY_ROUTE_PAGES}get loggedInUser(){let e="";return this.localStorageService.getActiveUserName().pipe(Object(l.a)(this.unsubscribe)).subscribe(t=>{e=t}),e}get pages(){return this._pages}get hasData(){return this._hasData}set loggedInUser(e){this._loggedInUser=e}set pages(e){this._pages=e}set hasData(e){this._hasData=e}get avatar(){let e="";return this.localStorageService.getActiveUser().pipe(Object(l.a)(this.unsubscribe)).subscribe(t=>{e=this.avatarService.avatar(t.userFirstName)}),e}registerBackButton(){return Object(a.a)(this,void 0,void 0,function*(){this.platform.backButton.pipe(Object(l.a)(this.unsubscribe)).subscribe(()=>Object(a.a)(this,void 0,void 0,function*(){yield this.logout()}))})}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){this.checkIfAppUpdateAvailable()})}ionViewDidEnter(){return Object(a.a)(this,void 0,void 0,function*(){yield this.passedProjectId(),yield this.getCurrentUser(),yield this.activeUserId(),yield this.ifInvalidSession(),yield this.registerBackButton(),yield this.getSelectProject()})}ngOnDestroy(){super.ngOnDestroy()}ionViewDidLeave(){window}passedProjectId(){return Object(a.a)(this,void 0,void 0,function*(){this.activatedRoute.params.pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>{this._projectId=e.projectId})})}checkIfAppUpdateAvailable(){return Object(a.a)(this,void 0,void 0,function*(){this.swUpdate.isEnabled&&this.swUpdate.available.subscribe(()=>{confirm("New version is available. Load New Version?")&&window.location.reload()})})}getCurrentUser(){return Object(a.a)(this,void 0,void 0,function*(){this.localStorageService.getActiveUserName().pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>{this._loggedInUser=e}),yield this.activeUserId()})}activeUserId(){return Object(a.a)(this,void 0,void 0,function*(){this.localStorageService.getActiveUserId().pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>{this._loggedInUserId=e})})}activeUserEmail(){return Object(a.a)(this,void 0,void 0,function*(){let e="";return this.localStorageService.getActiveUserEmail().pipe(Object(l.a)(this.unsubscribe)).subscribe(t=>{e=t}),e})}getSelectProject(){return Object(a.a)(this,void 0,void 0,function*(){this.localStorageService.getSelectedProject().pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>Object(a.a)(this,void 0,void 0,function*(){this._selectedProject=e.projectName}))})}ifInvalidSession(){return Object(a.a)(this,void 0,void 0,function*(){this.dataCommunicationService.getMessage().pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>{"INVALID_SESSION"===e.message&&this.promptUserToLoginInApp()})})}promptUserToLoginInApp(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:`${b.a.APP_NAME}`,message:`${b.a.TOKEN_EXPIRE}`,inputs:[{name:"userPassword",placeholder:`${b.a.FORM_PLACE_PASSWORD}`}],buttons:[{text:`${b.a.AUTHORIZE_ME}`,handler:e=>Object(a.a)(this,void 0,void 0,function*(){this._userModel={userEmail:yield this.activeUserEmail(),userPassword:e.userPassword,userLoginType:"IN_APP_LOGIN",userPlatform:"iOS"},yield this.inAppLogin()})}]});yield e.present()})}inAppLogin(){return Object(a.a)(this,void 0,void 0,function*(){yield this.loadingService.present(`${b.a.API_REQUEST_MESSAGE_1}`),this.userService.signIn(this._userModel).pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>Object(a.a)(this,void 0,void 0,function*(){yield this.loadingService.dismiss(),this._userModel={userId:e.userId,token:e.token},e.success&&(yield this.localStorageService.setActiveUser(this._userModel).pipe(Object(l.a)(this.unsubscribe)).subscribe(()=>Object(a.a)(this,void 0,void 0,function*(){yield this.presentInAppLoginAlert()})))}),e=>{this.loadingService.dismiss()})})}presentInAppLoginAlert(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:`${b.a.APP_NAME}`,message:`${b.a.IN_APP_LOGIN_SUCCESS}`,buttons:[{text:`${b.a.SURE}`,handler:()=>{}}]});yield e.present()})}presentLogoutAlertConfirm(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({header:`${b.a.CONFIRM_ACTION}`,message:`${b.a.CONFIRM_LOG_OUT}`,buttons:[{text:`${b.a.NO}`,cssClass:"primary",handler:()=>{}},{text:`${b.a.YES}`,handler:()=>Object(a.a)(this,void 0,void 0,function*(){this.menuController.close(),yield this.logout()})}]});yield e.present()})}viewProfile(){return Object(a.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:h.a,componentProps:{data:{}}});return e.onDidDismiss().then(e=>{this._modalData=e.data,this._modalData.cancelled||(this._loggedInUser=this.localStorageService.currentActiveUserName$.getValue())}),yield e.present()})}logout(){return Object(a.a)(this,void 0,void 0,function*(){yield this.loadingService.present(`${b.a.API_REQUEST_MESSAGE_5}`),yield this.localStorageService.removeActiveUser().pipe(Object(l.a)(this.unsubscribe)).subscribe(e=>Object(a.a)(this,void 0,void 0,function*(){e?yield this.loadingService.dismiss().then(()=>window.location.reload()):yield this.loadingService.dismiss()}))})}gotoMyProjects(){return Object(a.a)(this,void 0,void 0,function*(){this.router.navigate(["/my-project"])})}gotoPage(e){return Object(a.a)(this,void 0,void 0,function*(){yield this.getSelectProject();let t=[];t.push("my-project"),t.push(this._projectId),t.push("go");for(const i of e.url)t.push(i);this.router.navigate(t)})}}return e.\u0275fac=function(t){return new(t||e)(p.Jb(p.t),p.Jb(g.b),p.Jb(c.U),p.Jb(v.a),p.Jb(f.a),p.Jb(m.a),p.Jb(O.a),p.Jb(y.a))},e.\u0275cmp=p.Db({type:e,selectors:[["app-menu"]],features:[p.wb],decls:30,vars:6,consts:[["contentId","content"],["contentId","content","type","overlay"],["lines","none",1,"ion-no-border"],["auto-hide","false"],["color","pitch-dark","lines","none",3,"click"],[1,"fav-icon1","top-gap"],["height","100",3,"src"],["color","pitch-dark ","lines","none",1,"segment","top-gap"],["color","primary-gradient"],[3,"click"],["color","primary","lines","none"],["slot","start","name","arrow-back-outline"],["color","pitch-dark",4,"ngFor","ngForOf"],["size","default","expand","block","color","primary",1,"footer-button",3,"click"],[3,"src"],["id","content"],["color","pitch-dark"],["color","pitch-dark","lines","none"],["slot","start",3,"src"],[4,"ngFor","ngForOf"],["lines","none","color","primary","routerDirection","root","routerLinkActive","active",3,"click"]],template:function(e,t){1&e&&(p.Ob(0,"ion-app"),p.Ob(1,"ion-split-pane",0),p.Ob(2,"ion-menu",1),p.Ob(3,"ion-header",2),p.Ob(4,"ion-menu-toggle",3),p.Ob(5,"ion-item",4),p.Wb("click",function(){return t.viewProfile()}),p.Ob(6,"div",5),p.Kb(7,"img",6),p.Nb(),p.Ob(8,"ion-item",7),p.Ob(9,"h2"),p.lc(10),p.Nb(),p.Kb(11,"br"),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(12,"ion-content",8),p.Ob(13,"ion-menu-toggle",3),p.Ob(14,"ion-card",9),p.Wb("click",function(){return t.gotoMyProjects()}),p.Ob(15,"ion-item",10),p.Kb(16,"ion-icon",11),p.Ob(17,"ion-label"),p.lc(18),p.Nb(),p.Nb(),p.Nb(),p.kc(19,S,7,3,"ion-card",12),p.Nb(),p.Nb(),p.Ob(20,"ion-footer"),p.Ob(21,"ion-toolbar",8),p.Ob(22,"ion-grid"),p.Ob(23,"ion-row"),p.Ob(24,"ion-col"),p.Ob(25,"ion-button",13),p.Wb("click",function(){return t.presentLogoutAlertConfirm()}),p.Kb(26,"ion-icon",14),p.Ob(27,"ion-label"),p.lc(28),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Kb(29,"ion-router-outlet",15),p.Nb(),p.Nb()),2&e&&(p.zb(7),p.bc("src",t.avatar,p.ic),p.zb(3),p.mc(t.loggedInUser),p.zb(8),p.nc(" ",t.stringKey.MY_PROJECT," "),p.zb(1),p.bc("ngForOf",t.pages),p.zb(7),p.bc("src",t.stringKey.ICON_LOGOUT),p.zb(2),p.nc("\xa0 ",t.stringKey.LOGOUT," "))},directives:[c.f,c.L,c.A,c.u,c.C,c.x,c.o,c.l,c.v,c.y,o.i,c.s,c.Q,c.t,c.I,c.n,c.j,c.H,s.j],styles:[".active[_ngcontent-%COMP%]{--ion-text-color:var(--ion-color-primary)}.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--ion-text-color-rgb:var(--ion-color-primary)}.parent-active[_ngcontent-%COMP%]{font-weight:500}.sub-item[_ngcontent-%COMP%]{padding-left:0;font-size:small}.profilepicposition[_ngcontent-%COMP%]{position:absolute;top:-80%;right:0;z-index:89}.profilepicsize[_ngcontent-%COMP%]{width:50%!important;height:50%!important;max-width:20px!important;max-height:20px!important}.fav-icon1[_ngcontent-%COMP%]{position:relative;width:50%!important}.segment[_ngcontent-%COMP%]{text-shadow:1px 1px #000}.top-gap[_ngcontent-%COMP%]{margin-top:100px}"]}),e})();var C=i("0/kf");const E=[{path:"",redirectTo:"members"},{path:"",component:j,children:[{path:"my/:spaceType",loadChildren:()=>Promise.all([i.e(4),i.e(28)]).then(i.bind(null,"xhH8")).then(e=>e.MySpacePageModule)},{path:"no-access",loadChildren:()=>i.e(29).then(i.bind(null,"74Be")).then(e=>e.NoAccessPageModule)},{path:"credibility-board",loadChildren:()=>Promise.all([i.e(0),i.e(17)]).then(i.bind(null,"+Ayx")).then(e=>e.CredibilityBoardPageModule)},{path:"members",loadChildren:()=>Promise.all([i.e(0),i.e(23)]).then(i.bind(null,"BRPY")).then(e=>e.ProjectMembersPageModule)},{path:"sprints",loadChildren:()=>Promise.all([i.e(2),i.e(3),i.e(26)]).then(i.bind(null,"lHl8")).then(e=>e.ProjectSprintPageModule)},{path:"goals",loadChildren:()=>Promise.all([i.e(2),i.e(3),i.e(25)]).then(i.bind(null,"ccGt")).then(e=>e.ProjectGoalPageModule)},{path:"activities",loadChildren:()=>Promise.all([i.e(6),i.e(4),i.e(30)]).then(i.bind(null,"wNaf")).then(e=>e.ProjectActivityPageModule)}]}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Hb({type:e}),e.\u0275inj=p.Gb({imports:[[o.b,r.d,c.R,n.a,C.a,s.k.forChild(E)]]}),e})()},"74mu":function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"d",function(){return c});const n=(e,t)=>null!==t.closest(e),o=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,c=async(e,t,i,n)=>{if(null!=e&&"#"!==e[0]&&!s.test(e)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(e,i,n)}return!1}},JbSX:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("wEJo"),o=i("qULd"),r=i("iWo5");const s=(e,t)=>{let i,s;const c=(e,n,o)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,n);r&&t(r)?r!==i&&(l(),a(r,o)):l()},a=(e,t)=>{i=e,s||(s=i);const o=i;Object(n.f)(()=>o.classList.add("ion-activated")),t()},l=(e=!1)=>{if(!i)return;const t=i;Object(n.f)(()=>t.classList.remove("ion-activated")),e&&s!==i&&i.click(),i=void 0};return Object(r.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>c(e.currentX,e.currentY,o.a),onMove:e=>c(e.currentX,e.currentY,o.b),onEnd:()=>{l(!0),Object(o.e)(),s=void 0}})}},acej:function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return r});var n=i("1vRN");const o=async(e,t,i,o,r)=>{if(e)return e.attachViewToDom(t,i,r,o);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof i?t.ownerDocument&&t.ownerDocument.createElement(i):i;return o&&o.forEach(e=>s.classList.add(e)),r&&Object.assign(s,r),t.appendChild(s),await new Promise(e=>Object(n.c)(s,e)),s},r=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},eiU3:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i("UHEk"),o=i("T7yn"),r=i("ofXK"),s=i("YEJG"),c=i("TEn/"),a=i("0/kf"),l=i("fXoL");let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[r.b,s.a,c.R,a.a,o.a,n.a]]}),e})()},h3R7:function(e,t,i){"use strict";i.d(t,"a",function(){return n});const n={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const n=e*t/i-e+"ms",o=2*Math.PI*t/i;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const n=t/i,o=e*n-e+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}}},"q/pJ":function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e){return e.Administrator="PROJECTUSERTYPEID_0001",e.Assignee="PROJECTUSERTYPEID_0002",e.Reviewer="PROJECTUSERTYPEID_0003",e}({})},qULd:function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return o}),i.d(t,"d",function(){return a}),i.d(t,"e",function(){return c});const n={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:i})},notification(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},o=()=>{n.selection()},r=()=>{n.selectionStart()},s=()=>{n.selectionChanged()},c=()=>{n.selectionEnd()},a=e=>{n.impact(e)}}}]);