!function(){function e(t,n,r){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(t,n,r||t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{GFOT:function(e,n,i){"use strict";i.d(n,"a",function(){return d});var a=i("pcCU"),s=i("fXoL"),u=i("ofXK"),l=i("TEn/");function f(e,t){1&e&&(s.Ob(0,"span"),s.Ob(1,"span"),s.lc(2,"\xa0\xa0"),s.Nb(),s.lc(3,"/"),s.Ob(4,"span"),s.lc(5,"\xa0\xa0"),s.Nb(),s.Nb())}function b(e,t){if(1&e&&(s.Ob(0,"span"),s.lc(1),s.kc(2,f,6,0,"span",4),s.Nb()),2&e){var n=t.$implicit,r=t.last;s.zb(1),s.nc(" ",n," "),s.zb(1),s.bc("ngIf",!r)}}function p(e,t){if(1&e&&(s.Ob(0,"ion-item",1),s.Kb(1,"ion-icon",2),s.Ob(2,"span"),s.lc(3,"\xa0"),s.Nb(),s.kc(4,b,3,2,"span",3),s.Nb()),2&e){var n=s.Yb();s.zb(1),s.bc("src",n.stringKey.ICON_BREADCRUMB),s.zb(3),s.bc("ngForOf",n.crumbs)}}var d=function(){var e=function(e){o(i,e);var n=c(i);function i(e){return t(this,i),n.call(this,e)}return r(i,[{key:"ngOnInit",value:function(){}}]),i}(a.a);return e.\u0275fac=function(t){return new(t||e)(s.Jb(s.t))},e.\u0275cmp=s.Db({type:e,selectors:[["app-breadcrumb"]],inputs:{crumbs:"crumbs"},features:[s.wb],decls:1,vars:1,consts:[["lines","none","color","secondary",4,"ngIf"],["lines","none","color","secondary"],[3,"src"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&s.kc(0,p,5,2,"ion-item",0),2&e&&s.bc("ngIf",t.crumbs)},directives:[u.j,l.x,l.v,u.i],styles:["ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:90%;margin:10px}"]}),e}()},ccGt:function(n,i,a){"use strict";a.r(i),a.d(i,"ProjectGoalPageModule",function(){return W});var u,l=a("ofXK"),f=a("tyNb"),b=a("TEn/"),p=a("dWgT"),d=a("UHEk"),h=a("T7yn"),g=a("YEJG"),v=a("fXoL"),O=((u=function e(){t(this,e)}).\u0275fac=function(e){return new(e||u)},u.\u0275mod=v.Hb({type:u}),u.\u0275inj=v.Gb({imports:[[l.b,g.a,b.R,h.a,d.a]]}),u),m=a("4qs/"),y=a("0/kf"),_=a("sWve"),j=a("mrSG"),I=a("ZFsI"),R=a("pcCU"),C=a("vGT6"),k=a("1G5W"),G=a("Mk8q"),w=a("y7ii"),E=a("KcFf"),D=a("Ppwi"),K=a("RStK"),N=a("Pghi"),T=a("SIl3"),S=a("GFOT"),M=a("NvSi"),P=a("wCMH"),A=a("gtxo");function x(e,t){if(1&e&&v.Kb(0,"app-no-data",15),2&e){var n=v.Yb();v.bc("goal",!0)("text",n.errorMessage)}}function L(e,t){if(1&e){var n=v.Pb();v.Ob(0,"ion-card"),v.Ob(1,"app-panel-header",17),v.Wb("event",function(){v.gc(n);var e=t.$implicit;return v.Yb(2).openGoalOptions(e)}),v.Nb(),v.Kb(2,"app-custom-fields",18),v.Nb()}if(2&e){var r=t.$implicit,o=v.Yb(2);v.zb(1),v.bc("panelTitle",r.goalName)("panelIcon",o.stringKey.ICON_GOAL)("panelColor",o.stringKey.COLOR_MEDIUM)("eventIcon",o.stringKey.ICON_MORE)("isEventRequired",!0),v.zb(1),v.bc("description",r.goalDescription)}}function U(e,t){if(1&e&&(v.Mb(0),v.kc(1,L,3,6,"ion-card",16),v.Lb()),2&e){var n=v.Yb();v.zb(1),v.bc("ngForOf",null==n.projectGoalModel?null:n.projectGoalModel.projectGoals.data)}}var z,J,F=[{path:"",component:(z=function(n){o(a,n);var i=c(a);function a(e,n,r,o,c){var s;return t(this,a),(s=i.call(this,e)).localStorageService=n,s.projectGoalService=r,s.loadingService=o,s.commonCrudService=c,s._hasData=!1,s}return r(a,[{key:"breadCrumb",get:function(){return this._breadCrumb},set:function(e){this._breadCrumb=e}},{key:"hasData",get:function(){return this._hasData},set:function(e){this._hasData=e}},{key:"goals",get:function(){return this._goals},set:function(e){this._goals=e}},{key:"projectGoalModel",get:function(){return this._projectGoalModel},set:function(e){this._projectGoalModel=e}},{key:"activeUserId",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorageService.getActiveUserId().pipe(Object(k.a)(this.unsubscribe)).subscribe(function(e){t._loggedInUser=e});case 1:case"end":return e.stop()}},e,this)}))}},{key:"ngOnInit",value:function(){this.activeUserId(),this._projectId=this.activatedRoute.snapshot.paramMap.get("projectId"),this.errorMessage=this.stringKey.NO_DATA_GOAL}},{key:"ionViewDidEnter",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){e(s(a.prototype),"ngOnDestroy",this).call(this)}},{key:"loadData",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadingService.present("".concat(C.a.API_REQUEST_MESSAGE_1)),this.projectGoalService.getProjectGoals({projectId:this._projectId,userId:this._loggedInUser}).pipe(Object(k.a)(this.unsubscribe)).subscribe(function(e){return Object(j.a)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadingService.dismiss(),!e.success){t.next=8;break}return this._projectGoalModel=e.data,t.next=5,this.generateBreadcrumb();case 5:this._projectGoalModel.projectGoals.success?this._hasData=!0:this.errorMessage=this.stringKey.NO_DATA_GOAL,t.next=9;break;case 8:this.errorMessage=e.error.message;case 9:case"end":return t.stop()}},t,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"generateBreadcrumb",value:function(){var e;return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=null===(e=this._projectGoalModel.projectDetails)||void 0===e?void 0:e.projectName,this._breadCrumb=[n,this.stringKey.PROJECT_GOAL];case 2:case"end":return t.stop()}},t,this)}))}},{key:"addProjectGoal",value:function(){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.commonCrudService.openModalWithCreateOperation({userId:this._loggedInUser,projectId:this._projectId,operationType:"".concat(I.a.Create)},G.a.CRUD_GOAL),this.commonCrudService.loadDataUponModalClose.subscribe(function(e){!0===e&&t.loadData()});case 1:case"end":return e.stop()}},e,this)}))}},{key:"editProjectGoal",value:function(e){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.userId=this._loggedInUser,e.projectId=this._projectId,e.operationType="".concat(I.a.Delete),this.commonCrudService.openModalWithEditOperation(e,G.a.CRUD_GOAL),this.commonCrudService.loadDataUponModalClose.subscribe(function(e){e&&n.loadData()});case 1:case"end":return t.stop()}},t,this)}))}},{key:"deleteProjectGoal",value:function(e){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.userId=this._loggedInUser,e.projectId=this._projectId,e.operationType="".concat(I.a.Edit),this.commonCrudService.deleteOperation(e,this.projectGoalService,G.a.CRUD_GOAL,this.stringKey.ALERT_DELETE_PROJECT_GOAL),this.commonCrudService.loadDataUponObjectDeleted.subscribe(function(e){e&&n.loadData()});case 1:case"end":return t.stop()}},t,this)}))}},{key:"openGoalOptions",value:function(e){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:this.stringKey.CHOOSE_YOUR_ACTION,buttons:[{text:this.stringKey.EDIT+" "+this.stringKey.DETAILS,icon:this.stringKey.ICON_EDIT,handler:function(){r.editProjectGoal(e)}},{text:this.stringKey.DELETE+" "+this.stringKey.DETAILS,icon:this.stringKey.ICON_EDIT,handler:function(){r.deleteProjectGoal(e)}},{text:this.stringKey.CANCEL,icon:this.stringKey.ICON_CANCEL,handler:function(){}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}}]),a}(R.a),z.\u0275fac=function(e){return new(e||z)(v.Jb(v.t),v.Jb(w.a),v.Jb(E.a),v.Jb(D.a),v.Jb(K.a))},z.\u0275cmp=v.Db({type:z,selectors:[["project-users"]],features:[v.wb],decls:19,vars:9,consts:[[3,"appScrollTracker"],["color","primary"],["slot","start"],["slot","end",3,"click"],["slot","start",3,"src"],["scrollEvents","true"],["scrollArea",""],[3,"title","info"],[3,"crumbs"],["slot","fixed",3,"ionRefresh"],["slot","fixed","vertical","bottom","horizontal","end"],["color","dark",3,"click"],[3,"src"],[3,"goal","text",4,"ngIf"],[4,"ngIf"],[3,"goal","text"],[4,"ngFor","ngForOf"],[3,"panelTitle","panelIcon","panelColor","eventIcon","isEventRequired","event"],[3,"description"]],template:function(e,t){if(1&e&&(v.Ob(0,"ion-header",0),v.Ob(1,"ion-toolbar",1),v.Ob(2,"ion-title"),v.lc(3),v.Nb(),v.Ob(4,"ion-buttons",2),v.Kb(5,"ion-menu-button"),v.Nb(),v.Ob(6,"ion-buttons",3),v.Wb("click",function(){return t.loadData()}),v.Kb(7,"ion-icon",4),v.Nb(),v.Nb(),v.Nb(),v.Ob(8,"ion-content",5,6),v.Kb(10,"app-page-info-title",7),v.Kb(11,"app-breadcrumb",8),v.Ob(12,"ion-refresher",9),v.Wb("ionRefresh",function(e){return t.doRefresh(e)}),v.Kb(13,"ion-refresher-content"),v.Nb(),v.Ob(14,"ion-fab",10),v.Ob(15,"ion-fab-button",11),v.Wb("click",function(){return t.addProjectGoal()}),v.Kb(16,"ion-icon",12),v.Nb(),v.Nb(),v.kc(17,x,1,2,"app-no-data",13),v.kc(18,U,2,1,"ng-container",14),v.Nb()),2&e){var n=v.fc(9);v.bc("appScrollTracker",n),v.zb(3),v.nc(" ",t.stringKey.PROJECT_GOAL," "),v.zb(4),v.bc("src",t.stringKey.ICON_REFRESH),v.zb(3),v.bc("title",t.stringKey.PROJECT_GOAL)("info",t.stringKey.PROJECT_GOAL_INFO),v.zb(1),v.bc("crumbs",t.breadCrumb),v.zb(5),v.bc("src",t.stringKey.ICON_ADD),v.zb(1),v.bc("ngIf",!t.hasData),v.zb(1),v.bc("ngIf",t.hasData)}},directives:[b.u,N.a,b.Q,b.O,b.k,b.B,b.v,b.o,T.a,S.a,b.F,b.G,b.q,b.r,l.j,M.a,l.i,b.l,P.a,A.a],styles:[""]}),z)}],W=((J=function e(){t(this,e)}).\u0275fac=function(e){return new(e||J)},J.\u0275mod=v.Hb({type:J}),J.\u0275inj=v.Gb({imports:[[l.b,b.R,g.a,O,y.a,h.a,d.a,_.a,p.a,m.a,f.k.forChild(F)]]}),J)},dWgT:function(e,n,r){"use strict";r.d(n,"a",function(){return a});var o=r("ofXK"),i=r("TEn/"),c=r("fXoL"),a=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({imports:[[o.b,i.R]]}),e}()}}])}();