(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{wNaf:function(e,t,i){"use strict";i.r(t),i.d(t,"ProjectActivityPageModule",function(){return le});var r=i("ofXK"),o=i("tyNb"),s=i("TEn/"),n=i("nRLJ"),a=i("Tfoj"),c=i("dWgT"),l=i("/YVT"),d=i("l9xV"),p=i("4qs/"),b=i("ksD8"),h=i("0/kf"),u=i("T7yn"),m=i("UHEk"),f=i("sWve"),g=i("n1ax"),v=i("YEJG"),_=i("mrSG"),O=i("ZFsI"),S=i("pcCU"),I=i("vGT6"),E=i("1G5W"),N=i("fGi1"),y=i("fXoL"),C=i("Wbko"),D=i("YinQ"),j=i("iMrC"),T=i("dfv2"),K=i("Ppwi"),A=i("y7ii"),k=i("Pghi"),R=i("SIl3"),M=i("3Pt+"),z=i("wCMH"),U=i("gtxo");const G=["dropSelector"],F=["memberDropSelector"],x=["sprintDropSelector"],L=["goalDropSelector"],P=["dropSelectorBackdrop"];function Y(e,t){if(1&e&&y.Kb(0,"app-panel-header",21),2&e){const e=y.Yb();y.bc("panelTitle",e.selectedGoal.goalName)("panelIcon",e.stringKey.ICON_SELECT)("panelColor",e.stringKey.COLOR_SUCCESS)("isEventRequired",!1)}}function w(e,t){if(1&e&&y.Kb(0,"app-panel-header",21),2&e){const e=y.Yb();y.bc("panelTitle",e.selectedSprint.sprintName)("panelIcon",e.stringKey.ICON_SELECT)("panelColor",e.stringKey.COLOR_SUCCESS)("isEventRequired",!1)}}function q(e,t){if(1&e&&y.Kb(0,"app-panel-header",21),2&e){const e=y.Yb();y.bc("panelTitle",e.getUserFullName(e.selectedUser.userFirstName,e.selectedUser.userLastName))("panelIcon",e.stringKey.ICON_SELECT)("panelColor",e.stringKey.COLOR_SUCCESS)("isEventRequired",!1)}}function $(e,t){if(1&e){const e=y.Pb();y.Ob(0,"ion-card"),y.Ob(1,"app-panel-header",22),y.Wb("event",function(){y.gc(e);const i=t.$implicit;return y.Yb().chooseUser(i)}),y.Nb(),y.Kb(2,"app-custom-fields",23),y.Nb()}if(2&e){const e=t.$implicit,i=y.Yb();y.zb(1),y.bc("panelTitle",i.getUserFullName(e.userFirstName,e.userLastName))("panelIcon",i.stringKey.ICON_USER)("panelColor",i.stringKey.COLOR_MEDIUM)("eventIcon",i.stringKey.ICON_ACTIVATE)("isEventRequired",!0),y.zb(1),y.bc("description",e.userEmail)}}function J(e,t){if(1&e){const e=y.Pb();y.Ob(0,"ion-card"),y.Ob(1,"app-panel-header",22),y.Wb("event",function(){y.gc(e);const i=t.$implicit;return y.Yb().chooseSprint(i)}),y.Nb(),y.Kb(2,"app-custom-fields",24),y.Nb()}if(2&e){const e=t.$implicit,i=y.Yb();y.zb(1),y.bc("panelTitle",e.sprintName)("panelIcon",i.stringKey.ICON_DURATION)("panelColor",i.stringKey.COLOR_MEDIUM)("eventIcon",i.stringKey.ICON_ACTIVATE)("isEventRequired",!0),y.zb(1),y.bc("sprintStartDate",e.sprintStartDate)("sprintEndDate",e.sprintEndDate)}}function V(e,t){if(1&e){const e=y.Pb();y.Ob(0,"ion-card"),y.Ob(1,"app-panel-header",22),y.Wb("event",function(){y.gc(e);const i=t.$implicit;return y.Yb().chooseGoal(i)}),y.Nb(),y.Kb(2,"app-custom-fields",23),y.Nb()}if(2&e){const e=t.$implicit,i=y.Yb();y.zb(1),y.bc("panelTitle",e.goalName)("panelIcon",i.stringKey.ICON_GOAL)("panelColor",i.stringKey.COLOR_MEDIUM)("eventIcon",i.stringKey.ICON_ACTIVATE)("isEventRequired",!0),y.zb(1),y.bc("description",e.goalDescription)}}let W=(()=>{class e extends C.a{constructor(e,t,i,r,o,s,n){super(e),this.alertService=t,this.projectService=i,this.loadingService=r,this.navParams=o,this.animationController=s,this.localStorageService=n,this._selectedUser=null,this._animationDuration=100,this._transitionHeight=-356,this.moduleEnum=D.a,this._filter=this.navParams.get("data"),this.buildFrom(),this.loadData()}get projectSprints(){return this._projectSprints}get projectUsers(){return this._projectUsers}get projectGoals(){return this._projectGoals}get selectedSprint(){return this._selectedSprint}get selectedUser(){return this._selectedUser}get selectedGoal(){return this._selectedGoal}set projectSprints(e){this._projectSprints=e}set projectUsers(e){this._projectUsers=e}set projectGoals(e){this._projectGoals=e}set selectedSprint(e){this._selectedSprint=e}set selectedUser(e){this._selectedUser=e}set selectedGoal(e){this._selectedGoal=e}set dropSelectorTitle(e){this._dropSelectorTitle=e}get dropSelectorTitle(){return this._dropSelectorTitle}ngOnInit(){this.dropSelectorBackdrop.nativeElement.hidden=!0}ngOnDestroy(){super.ngOnDestroy()}loadData(){return Object(_.a)(this,void 0,void 0,function*(){this.loadingService.present(`${I.a.API_REQUEST_MESSAGE_1}`),this.projectService.getProjectRaw({projectId:this._filter.projectId,userId:this._filter.userId,rawDataKeys:["projectSprints","projectAssignees","projectGoals"]}).pipe(Object(E.a)(this.unsubscribe)).subscribe(e=>{this.loadingService.dismiss(),e.success&&(this._projectSprints=e.data.projectSprints.data,this._projectUsers=e.data.projectAssignees.data,this._projectGoals=e.data.projectGoals.data)})})}chooseUser(e){this._selectedUser=e,this.formGroup.controls.assigneeUserId.setValue(this._selectedUser.userId),this.formGroup.controls.userFirstName.setValue(this._selectedUser.userFirstName),this.formGroup.controls.userLastName.setValue(this._selectedUser.userLastName),this.formGroup.controls.userEmail.setValue(this._selectedUser.userEmail),this.closeDropSelector()}chooseSprint(e){this._selectedSprint=e,this.formGroup.controls.sprintId.setValue(this._selectedSprint.sprintId),this.formGroup.controls.sprintName.setValue(this._selectedSprint.sprintName),this.closeDropSelector()}chooseGoal(e){this._selectedGoal=e,this.formGroup.controls.goalId.setValue(this._selectedGoal.goalId),this.formGroup.controls.goalName.setValue(this._selectedGoal.goalName),this.closeDropSelector()}buildFrom(){this.formGroup=this.formBuilder.group({sprintId:[this._filter.sprintId,this.validators().compose([this.validators().required])],sprintName:[this._filter.sprintName,this.validators().compose([this.validators().required])],assigneeUserId:[this._filter.assigneeUserId,this.validators().compose([this.validators().required])],userFirstName:[this._filter.userFirstName,this.validators().compose([this.validators().required])],userLastName:[this._filter.userLastName,this.validators().compose([this.validators().required])],userEmail:[this._filter.userEmail,this.validators().compose([this.validators().required])],goalId:[this._filter.goalId,this.validators().compose([this.validators().required])],goalName:[this._filter.goalName,this.validators().compose([this.validators().required])]})}get sprintId(){return this.formGroup.get("sprintId")}get userId(){return this.formGroup.get("userId")}get goalId(){return this.formGroup.get("goalId")}submit(){return Object(_.a)(this,void 0,void 0,function*(){this.formGroup.invalid?yield this.alertService.presentBasicAlert(`${this.stringKey.MANDATORY_FIELDS}`):this.submitData()})}buildDataModelToPass(){return{projectId:this._filter.projectId,userId:this._filter.userId,assigneeUserId:this._selectedUser.userId,userFirstName:this._selectedUser.userFirstName,userLastName:this._selectedUser.userLastName,userEmail:this._selectedUser.userEmail,sprintId:this._selectedSprint.sprintId,sprintName:this._selectedSprint.sprintName,goalId:this._selectedGoal.goalId,goalName:this._selectedGoal.goalName}}submitData(){return Object(_.a)(this,void 0,void 0,function*(){const e=this.buildDataModelToPass();yield this.localStorageService.setSelectedProjectFilter(e).pipe(Object(E.a)(this.unsubscribe)).subscribe(()=>Object(_.a)(this,void 0,void 0,function*(){this._modalData={cancelled:!1,operationSubmitted:!0},this.dismissModal()}))})}cancelModal(){this._modalData={cancelled:!0,operationSubmitted:!1},this.dismissModal()}dismissModal(){this.modalController.dismiss(this._modalData).then(()=>{this.formGroup.reset()})}openDropSelector(e){return Object(_.a)(this,void 0,void 0,function*(){this.activeDropSelector(e),this.animationController.create().addElement(this.dropSelector.nativeElement).duration(this._animationDuration).fromTo("transform","translateY(0px)",`translateY(${this._transitionHeight}px)`).play()})}activeDropSelector(e){switch(this.dropSelectorBackdrop.nativeElement.hidden=!1,e){case D.a.member:this._dropSelectorTitle=`${this.stringKey.SELECT} ${D.a.member}`,this.memberDropSelector.nativeElement.hidden=!1,this.sprintDropSelector.nativeElement.hidden=!0,this.goalDropSelector.nativeElement.hidden=!0;break;case D.a.sprint:this._dropSelectorTitle=`${this.stringKey.SELECT} ${D.a.sprint}`,this.memberDropSelector.nativeElement.hidden=!0,this.sprintDropSelector.nativeElement.hidden=!1,this.goalDropSelector.nativeElement.hidden=!0;break;case D.a.goal:this._dropSelectorTitle=`${this.stringKey.SELECT} ${D.a.goal}`,this.memberDropSelector.nativeElement.hidden=!0,this.sprintDropSelector.nativeElement.hidden=!0,this.goalDropSelector.nativeElement.hidden=!1;break;case D.a.measurementType:this._dropSelectorTitle=`${this.stringKey.SELECT} ${D.a.measurementType}`,this.memberDropSelector.nativeElement.hidden=!0,this.sprintDropSelector.nativeElement.hidden=!0,this.goalDropSelector.nativeElement.hidden=!0}}closeDropSelector(){return Object(_.a)(this,void 0,void 0,function*(){this.dropSelectorBackdrop.nativeElement.hidden=!0,this.animationController.create().addElement(this.dropSelector.nativeElement).duration(this._animationDuration).fromTo("transform",`translateY(${this._transitionHeight}px)`,"translateY(0px)").play()})}}return e.\u0275fac=function(t){return new(t||e)(y.Jb(y.t),y.Jb(j.a),y.Jb(T.a),y.Jb(K.a),y.Jb(s.X),y.Jb(s.c),y.Jb(A.a))},e.\u0275cmp=y.Db({type:e,selectors:[["app-create-edit-project-filter"]],viewQuery:function(e,t){if(1&e&&(y.qc(G,3,y.m),y.qc(F,3,y.m),y.qc(x,3,y.m),y.qc(L,3,y.m),y.qc(P,3,y.m)),2&e){let e;y.ec(e=y.Xb())&&(t.dropSelector=e.first),y.ec(e=y.Xb())&&(t.memberDropSelector=e.first),y.ec(e=y.Xb())&&(t.sprintDropSelector=e.first),y.ec(e=y.Xb())&&(t.goalDropSelector=e.first),y.ec(e=y.Xb())&&(t.dropSelectorBackdrop=e.first)}},features:[y.wb],decls:50,vars:21,consts:[[3,"appScrollTracker"],["slot","start"],["fill","solid","color","dark",3,"click"],["slot","end"],["lines","none","color","primary","scrollEvents","true"],["scrollArea",""],[3,"title","info"],["color","primary","lines","none",3,"formGroup","ngSubmit"],["color","secondary",1,"selector",3,"click"],["color","dark","lines","none"],["slot","start",3,"src"],[3,"panelTitle","panelIcon","panelColor","isEventRequired",4,"ngIf"],[1,"dropSelectorBackdrop",3,"click"],["dropSelectorBackdrop",""],[1,"dropSelector"],["dropSelector",""],["color","primary"],["memberDropSelector",""],[4,"ngFor","ngForOf"],["sprintDropSelector",""],["goalDropSelector",""],[3,"panelTitle","panelIcon","panelColor","isEventRequired"],[3,"panelTitle","panelIcon","panelColor","eventIcon","isEventRequired","event"],[3,"description"],[3,"sprintStartDate","sprintEndDate"]],template:function(e,t){if(1&e&&(y.Ob(0,"ion-header",0),y.Ob(1,"ion-toolbar"),y.Ob(2,"ion-title"),y.lc(3),y.Nb(),y.Ob(4,"ion-buttons",1),y.Ob(5,"ion-button",2),y.Wb("click",function(){return t.cancelModal()}),y.lc(6),y.Nb(),y.Nb(),y.Ob(7,"ion-buttons",3),y.Ob(8,"ion-button",2),y.Wb("click",function(){return t.submit()}),y.lc(9),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Ob(10,"ion-content",4,5),y.Kb(12,"app-page-info-title",6),y.Ob(13,"form",7),y.Wb("ngSubmit",function(){return t.submit()}),y.Ob(14,"ion-card",8),y.Wb("click",function(){return t.openDropSelector(t.moduleEnum.goal)}),y.Ob(15,"ion-item",9),y.Kb(16,"ion-icon",10),y.lc(17),y.Nb(),y.kc(18,Y,1,4,"app-panel-header",11),y.Nb(),y.Ob(19,"ion-card",8),y.Wb("click",function(){return t.openDropSelector(t.moduleEnum.sprint)}),y.Ob(20,"ion-item",9),y.Kb(21,"ion-icon",10),y.lc(22),y.Nb(),y.kc(23,w,1,4,"app-panel-header",11),y.Nb(),y.Ob(24,"ion-card",8),y.Wb("click",function(){return t.openDropSelector(t.moduleEnum.member)}),y.Ob(25,"ion-item",9),y.Kb(26,"ion-icon",10),y.lc(27),y.Nb(),y.kc(28,q,1,4,"app-panel-header",11),y.Nb(),y.Nb(),y.Nb(),y.Ob(29,"div",12,13),y.Wb("click",function(){return t.closeDropSelector()}),y.Nb(),y.Ob(31,"div",14,15),y.Ob(33,"ion-header"),y.Ob(34,"ion-toolbar",16),y.Ob(35,"ion-title",1),y.lc(36),y.Nb(),y.Ob(37,"ion-buttons",3),y.Ob(38,"ion-button",2),y.Wb("click",function(){return t.closeDropSelector()}),y.lc(39),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Ob(40,"ion-content",null,17),y.kc(42,$,3,6,"ion-card",18),y.Nb(),y.Ob(43,"ion-content",null,19),y.Ob(45,"ion-list"),y.kc(46,J,3,7,"ion-card",18),y.Nb(),y.Nb(),y.Ob(47,"ion-content",null,20),y.kc(49,V,3,6,"ion-card",18),y.Nb(),y.Nb()),2&e){const e=y.fc(11);y.bc("appScrollTracker",e),y.zb(3),y.nc(" ",t.stringKey.CHOOSE_FILTER," "),y.zb(3),y.mc(t.stringKey.CANCEL),y.zb(3),y.mc(t.stringKey.SELECT),y.zb(3),y.bc("title",t.stringKey.CHOOSE_FILTER)("info",t.stringKey.PROJECT_FILTER_INFO),y.zb(1),y.bc("formGroup",t.formGroup),y.zb(3),y.bc("src",t.stringKey.ICON_GOAL),y.zb(1),y.nc(" ",t.stringKey.FORM_INFO_SELECT_GOAL," "),y.zb(1),y.bc("ngIf",t.selectedGoal),y.zb(3),y.bc("src",t.stringKey.ICON_SPRINT),y.zb(1),y.nc(" ",t.stringKey.FORM_INFO_SELECT_SPRINT," "),y.zb(1),y.bc("ngIf",t.selectedSprint),y.zb(3),y.bc("src",t.stringKey.ICON_USER),y.zb(1),y.nc(" ",t.stringKey.FORM_INFO_SELECT_ASSIGNEE," "),y.zb(1),y.bc("ngIf",t.selectedUser),y.zb(8),y.nc(" ",t.dropSelectorTitle," "),y.zb(3),y.mc(t.stringKey.CLOSE),y.zb(3),y.bc("ngForOf",t.projectUsers),y.zb(4),y.bc("ngForOf",t.projectSprints),y.zb(3),y.bc("ngForOf",t.projectGoals)}},directives:[s.u,k.a,s.Q,s.O,s.k,s.j,s.o,R.a,M.m,M.h,M.c,s.l,s.x,s.v,r.j,r.i,s.z,z.a,U.a],styles:[".dropSelectorBackdrop[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background-color:var(--ion-color-primary);z-index:999;opacity:.6}.dropSelector[_ngcontent-%COMP%]{position:fixed;bottom:-300px;width:100%;height:300px;z-index:1000}p.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();var B=i("tUwt"),H=i("xSju"),X=i("GFOT"),Q=i("NvSi");function Z(e,t){if(1&e&&y.Kb(0,"app-no-data",3),2&e){const e=y.Yb();y.bc("filter",!0)("text",e.stringKey.NO_FILTER)}}function ee(e,t){if(1&e&&(y.Ob(0,"ion-grid",4),y.Ob(1,"ion-row"),y.Ob(2,"ion-col",5),y.Ob(3,"ion-card",6),y.Kb(4,"app-panel-header",7),y.Nb(),y.Nb(),y.Ob(5,"ion-col",8),y.Ob(6,"ion-card",6),y.Kb(7,"app-panel-header",7),y.Nb(),y.Nb(),y.Ob(8,"ion-col",8),y.Ob(9,"ion-card",6),y.Kb(10,"app-panel-header",7),y.Nb(),y.Nb(),y.Nb(),y.Nb()),2&e){const e=y.Yb();y.zb(4),y.bc("panelTitle",e.filter.goalName)("panelIcon",e.stringKey.ICON_GOAL)("panelColor",e.stringKey.COLOR_INFO)("isEventRequired",!1),y.zb(3),y.bc("panelTitle",e.filter.sprintName)("panelIcon",e.stringKey.ICON_SPRINT)("panelColor",e.stringKey.COLOR_INFO)("isEventRequired",!1),y.zb(3),y.bc("panelTitle",e.getUserFullName(e.filter.userFirstName,e.filter.userLastName))("panelIcon",e.stringKey.ICON_USER)("panelColor",e.stringKey.COLOR_INFO)("isEventRequired",!1)}}let te=(()=>{class e extends C.a{constructor(e){super(e)}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(y.Jb(y.t))},e.\u0275cmp=y.Db({type:e,selectors:[["app-project-filter"]],inputs:{filter:"filter",filterExist:"filterExist"},features:[y.wb],decls:3,vars:7,consts:[[3,"panelTitle","panelIcon","panelColor","eventIcon","isEventRequired"],[3,"filter","text",4,"ngIf"],["color","medium",4,"ngIf"],[3,"filter","text"],["color","medium"],["size","12"],[1,"selector"],[3,"panelTitle","panelIcon","panelColor","isEventRequired"],["size-lg","6","size-md","6","size-sm","6","size","12"]],template:function(e,t){1&e&&(y.Kb(0,"app-panel-header",0),y.kc(1,Z,1,2,"app-no-data",1),y.kc(2,ee,11,12,"ion-grid",2)),2&e&&(y.bc("panelTitle",t.stringKey.CHOOSE_FILTER)("panelIcon",t.stringKey.ICON_FILTER)("panelColor",t.stringKey.COLOR_MEDIUM)("eventIcon",t.stringKey.ICON_ACTIVATE)("isEventRequired",!0),y.zb(1),y.bc("ngIf",!t.filterExist),y.zb(1),y.bc("ngIf",t.filterExist))},directives:[z.a,r.j,Q.a,s.t,s.I,s.n,s.l],styles:[".dropSelectorBackdrop[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;background-color:var(--ion-color-primary);z-index:999;opacity:.6}.dropSelector[_ngcontent-%COMP%]{position:fixed;bottom:-300px;width:100%;height:300px;z-index:1000}p.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();var ie=i("yoFs");function re(e,t){if(1&e){const e=y.Pb();y.Ob(0,"ion-card",17),y.Wb("click",function(){return y.gc(e),y.Yb().openFilter()}),y.Kb(1,"app-project-filter",18),y.Nb()}if(2&e){const e=y.Yb();y.zb(1),y.bc("filter",e.filterModel)("filterExist",e.filterExist)}}function oe(e,t){if(1&e&&y.Kb(0,"app-no-data",19),2&e){const e=y.Yb();y.bc("activity",!0)("text",e.errorMessage)}}function se(e,t){if(1&e&&y.Kb(0,"app-no-data",19),2&e){const e=y.Yb();y.bc("activity",!0)("text",e.stringKey.NO_DATA_ACTIVITY)}}function ne(e,t){if(1&e){const e=y.Pb();y.Ob(0,"ion-card"),y.Ob(1,"app-activity-short-view",21),y.Wb("click",function(){y.gc(e);const i=t.$implicit;return y.Yb(2).openActivityOptions(i)}),y.Nb(),y.Nb()}if(2&e){const e=t.$implicit;y.zb(1),y.bc("activity",e)}}function ae(e,t){if(1&e&&(y.Mb(0),y.kc(1,ne,2,1,"ion-card",20),y.Lb()),2&e){const e=y.Yb();y.zb(1),y.bc("ngForOf",e.activities)}}const ce=[{path:"",component:(()=>{class e extends S.a{constructor(e,t,i,r,o){super(e),this.localStorageService=t,this.projectActivityService=i,this.loadingService=r,this.alertService=o,this._hasData=!1,this._filterExist=!1,this.activityMeasurementTypeEnum=B.a}set breadCrumb(e){this._breadCrumb=e}get breadCrumb(){return this._breadCrumb}set hasData(e){this._hasData=e}get hasData(){return this._hasData}set activities(e){this._activities=e}get activities(){return this._activities}set projectActivityModel(e){this._projectActivityModel=e}get projectActivityModel(){return this._projectActivityModel}set filterModel(e){this._filterModel=e}get filterModel(){return this._filterModel}set filterExist(e){this._filterExist=e}get filterExist(){return this._filterExist}activeUserId(){return Object(_.a)(this,void 0,void 0,function*(){this.localStorageService.getActiveUserId().pipe(Object(E.a)(this.unsubscribe)).subscribe(e=>{this._loggedInUser=e})})}ngOnInit(){this.activeUserId(),this._projectId=this.activatedRoute.snapshot.paramMap.get("projectId"),this.errorMessage=this.stringKey.NO_DATA_ACTIVITY,this.getSelectProjectFilter()}ionViewDidEnter(){this.loadData()}ngOnDestroy(){super.ngOnDestroy()}loadData(){return Object(_.a)(this,void 0,void 0,function*(){this.loadingService.present(`${I.a.API_REQUEST_MESSAGE_1}`),this.projectActivityService.getProjectActivities(this._filterModel).pipe(Object(E.a)(this.unsubscribe)).subscribe(e=>Object(_.a)(this,void 0,void 0,function*(){yield this.loadingService.dismiss(),e.success?(this._projectActivityModel=e.data,yield this.generateBreadcrumb(),this._projectActivityModel.filter?(this._filterExist=!0,this._projectActivityModel.projectActivities.success?(this._activities=this._projectActivityModel.projectActivities.data,this._hasData=!0):this._hasData=!1):this._filterExist=!1):(this.errorMessage=e.error.message,this.noAccess=!0)}))})}generateBreadcrumb(){var e;return Object(_.a)(this,void 0,void 0,function*(){let t=null===(e=this._projectActivityModel.projectDetails)||void 0===e?void 0:e.projectName;this._breadCrumb=[t,this.stringKey.PROJECT_ACTIVITY]})}addProjectActivity(){return Object(_.a)(this,void 0,void 0,function*(){if(this._filterModel.sprintId){const e={userId:this._loggedInUser,projectId:this._projectId,assigneeUserId:this._filterModel.assigneeUserId,sprintId:this._filterModel.sprintId,goalId:this._filterModel.goalId,operationType:`${O.a.Create}`},t=yield this.modalController.create({component:N.a,componentProps:{data:e}});return t.onDidDismiss().then(e=>{this._modalData=e.data,this._modalData.cancelled||this.loadData()}),yield t.present()}yield this.alertService.presentBasicAlert(`${this.stringKey.MANDATORY_SELECT}`)})}editProjectActivity(e,t){return Object(_.a)(this,void 0,void 0,function*(){e.userId=this._loggedInUser,e.projectId=this._projectId,e.operationType=t;const i=yield this.modalController.create({component:N.a,componentProps:{data:e}});return i.onDidDismiss().then(e=>{this._modalData=e.data,this._modalData.cancelled||this.loadData()}),yield i.present()})}openActivityOptions(e){return Object(_.a)(this,void 0,void 0,function*(){this.router.navigate([e.activityId,"review"],{relativeTo:this.activatedRoute})})}getSelectProjectFilter(){return Object(_.a)(this,void 0,void 0,function*(){this.localStorageService.getSelectedProjectFilter(this._projectId).pipe(Object(E.a)(this.unsubscribe)).subscribe(e=>Object(_.a)(this,void 0,void 0,function*(){this._filterModel=e,this._filterModel&&this.loadData()}))})}openFilter(){return Object(_.a)(this,void 0,void 0,function*(){const e={userId:this._loggedInUser,projectId:this._projectId},t=yield this.modalController.create({component:W,componentProps:{data:e}});return t.onDidDismiss().then(e=>Object(_.a)(this,void 0,void 0,function*(){this._modalData=e.data,this._modalData.cancelled||(yield this.getSelectProjectFilter())})),yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(y.Jb(y.t),y.Jb(A.a),y.Jb(H.a),y.Jb(K.a),y.Jb(j.a))},e.\u0275cmp=y.Db({type:e,selectors:[["project-users"]],features:[y.wb],decls:22,vars:11,consts:[[3,"appScrollTracker"],["color","primary"],["slot","start"],["slot","end",3,"click"],["slot","start",3,"src"],["scrollEvents","true"],["scrollArea",""],[3,"title","info"],[3,"crumbs"],["slot","fixed",3,"ionRefresh"],["slot","fixed","vertical","bottom","horizontal","end"],["color","dark",3,"click"],[3,"src"],[3,"click",4,"ngIf"],[3,"activity","text",4,"ngIf"],[4,"ngIf"],["id","dum-height"],[3,"click"],[3,"filter","filterExist"],[3,"activity","text"],[4,"ngFor","ngForOf"],[3,"activity","click"]],template:function(e,t){if(1&e&&(y.Ob(0,"ion-header",0),y.Ob(1,"ion-toolbar",1),y.Ob(2,"ion-title"),y.lc(3),y.Nb(),y.Ob(4,"ion-buttons",2),y.Kb(5,"ion-menu-button"),y.Nb(),y.Ob(6,"ion-buttons",3),y.Wb("click",function(){return t.loadData()}),y.Kb(7,"ion-icon",4),y.Nb(),y.Nb(),y.Nb(),y.Ob(8,"ion-content",5,6),y.Kb(10,"app-page-info-title",7),y.Kb(11,"app-breadcrumb",8),y.Ob(12,"ion-refresher",9),y.Wb("ionRefresh",function(e){return t.doRefresh(e)}),y.Kb(13,"ion-refresher-content"),y.Nb(),y.Ob(14,"ion-fab",10),y.Ob(15,"ion-fab-button",11),y.Wb("click",function(){return t.addProjectActivity()}),y.Kb(16,"ion-icon",12),y.Nb(),y.Nb(),y.kc(17,re,2,2,"ion-card",13),y.kc(18,oe,1,2,"app-no-data",14),y.kc(19,se,1,2,"app-no-data",14),y.kc(20,ae,2,1,"ng-container",15),y.Kb(21,"div",16),y.Nb()),2&e){const e=y.fc(9);y.bc("appScrollTracker",e),y.zb(3),y.nc(" ",t.stringKey.PROJECT_ACTIVITY," "),y.zb(4),y.bc("src",t.stringKey.ICON_REFRESH),y.zb(3),y.bc("title",t.stringKey.PROJECT_ACTIVITY)("info",t.stringKey.ACTIVITY_INFO),y.zb(1),y.bc("crumbs",t.breadCrumb),y.zb(5),y.bc("src",t.stringKey.ICON_ADD),y.zb(1),y.bc("ngIf",!t.noAccess),y.zb(1),y.bc("ngIf",t.noAccess),y.zb(1),y.bc("ngIf",!t.hasData&&t.filterExist),y.zb(1),y.bc("ngIf",t.hasData)}},directives:[s.u,k.a,s.Q,s.O,s.k,s.B,s.v,s.o,R.a,X.a,s.F,s.G,s.q,s.r,r.j,s.l,te,Q.a,r.i,ie.a],styles:[""]}),e})()},{path:":activityId/review",loadChildren:()=>i.e(7).then(i.bind(null,"Pmid")).then(e=>e.ProjectActivityReviewPageModule)}];let le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.Hb({type:e}),e.\u0275inj=y.Gb({imports:[[r.b,s.R,v.a,d.a,l.a,a.a,b.a,g.a,h.a,u.a,m.a,f.a,c.a,p.a,n.a,o.k.forChild(ce)]]}),e})()}}]);