(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{GFOT:function(t,n,e){"use strict";e.d(n,"a",function(){return p});var i=e("pcCU"),r=e("fXoL"),s=e("ofXK"),o=e("TEn/");function c(t,n){1&t&&(r.Ob(0,"span"),r.Ob(1,"span"),r.lc(2,"\xa0\xa0"),r.Nb(),r.lc(3,"/"),r.Ob(4,"span"),r.lc(5,"\xa0\xa0"),r.Nb(),r.Nb())}function a(t,n){if(1&t&&(r.Ob(0,"span"),r.lc(1),r.kc(2,c,6,0,"span",4),r.Nb()),2&t){const t=n.$implicit,e=n.last;r.zb(1),r.nc(" ",t," "),r.zb(1),r.bc("ngIf",!e)}}function b(t,n){if(1&t&&(r.Ob(0,"ion-item",1),r.Kb(1,"ion-icon",2),r.Ob(2,"span"),r.lc(3,"\xa0"),r.Nb(),r.kc(4,a,3,2,"span",3),r.Nb()),2&t){const t=r.Yb();r.zb(1),r.bc("src",t.stringKey.ICON_BREADCRUMB),r.zb(3),r.bc("ngForOf",t.crumbs)}}let p=(()=>{class t extends i.a{constructor(t){super(t)}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(r.t))},t.\u0275cmp=r.Db({type:t,selectors:[["app-breadcrumb"]],inputs:{crumbs:"crumbs"},features:[r.wb],decls:1,vars:1,consts:[["lines","none","color","secondary",4,"ngIf"],["lines","none","color","secondary"],[3,"src"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,n){1&t&&r.kc(0,b,5,2,"ion-item",0),2&t&&r.bc("ngIf",n.crumbs)},directives:[s.j,o.x,o.v,s.i],styles:["ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:90%;margin:10px}"]}),t})()},dWgT:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var i=e("ofXK"),r=e("TEn/"),s=e("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({imports:[[i.b,r.R]]}),t})()},lHl8:function(t,n,e){"use strict";e.r(n),e.d(n,"ProjectSprintPageModule",function(){return H});var i=e("ofXK"),r=e("tyNb"),s=e("TEn/"),o=e("dWgT"),c=e("UHEk"),a=e("T7yn"),b=e("YEJG"),p=e("fXoL");let u=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({imports:[[i.b,b.a,s.R,a.a,c.a]]}),t})();var d=e("4qs/"),l=e("0/kf"),g=e("sWve"),h=e("mrSG"),S=e("ZFsI"),f=e("pcCU"),O=e("vGT6"),I=e("1G5W"),m=e("Mk8q"),T=function(t){return t.Active="ACTIVE",t.Closed="CLOSED",t.Future="FUTURE",t}({}),N=e("y7ii"),_=e("ev1W"),v=e("Ppwi"),E=e("RStK"),j=e("Pghi"),C=e("SIl3"),R=e("GFOT"),y=e("NvSi"),D=e("wCMH"),K=e("gtxo");function z(t,n){if(1&t&&p.Kb(0,"app-no-data",15),2&t){const t=p.Yb();p.bc("sprint",!0)("text",t.errorMessage)}}function k(t,n){if(1&t&&(p.Ob(0,"ion-button",26),p.lc(1),p.Kb(2,"ion-icon",12),p.lc(3),p.Nb()),2&t){const t=p.Yb().$implicit,n=p.Yb(2);p.zb(1),p.nc(" ",n.stringKey.STATUS," \xa0 "),p.zb(1),p.bc("src",n.stringKey.ICON_RIGHT_ARROW),p.zb(1),p.nc(" \xa0 ",t.sprintStatus," ")}}function P(t,n){if(1&t&&(p.Ob(0,"ion-button",27),p.lc(1),p.Kb(2,"ion-icon",12),p.lc(3),p.Nb()),2&t){const t=p.Yb().$implicit,n=p.Yb(2);p.zb(1),p.nc(" ",n.stringKey.STATUS," \xa0 "),p.zb(1),p.bc("src",n.stringKey.ICON_RIGHT_ARROW),p.zb(1),p.nc(" \xa0 ",t.sprintStatus," ")}}function A(t,n){if(1&t&&(p.Ob(0,"ion-button",28),p.lc(1),p.Kb(2,"ion-icon",12),p.lc(3),p.Nb()),2&t){const t=p.Yb().$implicit,n=p.Yb(2);p.zb(1),p.nc(" ",n.stringKey.STATUS," \xa0 "),p.zb(1),p.bc("src",n.stringKey.ICON_RIGHT_ARROW),p.zb(1),p.nc(" \xa0 ",t.sprintStatus," ")}}function U(t,n){if(1&t){const t=p.Pb();p.Ob(0,"ion-button",29),p.Wb("click",function(){p.gc(t);const n=p.Yb().$implicit,e=p.Yb(2);return e.underTheHoodEditProjectSprint(n,e.sprintStatusEnum.Closed,e.operationsEnum.Stop)}),p.Kb(1,"ion-icon",12),p.lc(2),p.Nb()}if(2&t){const t=p.Yb(3);p.zb(1),p.bc("src",t.stringKey.ICON_STOP),p.zb(1),p.nc(" \xa0 ",t.stringKey.END_SPRINT," ")}}function M(t,n){if(1&t){const t=p.Pb();p.Ob(0,"ion-button",29),p.Wb("click",function(){p.gc(t);const n=p.Yb().$implicit,e=p.Yb(2);return e.underTheHoodEditProjectSprint(n,e.sprintStatusEnum.Active,e.operationsEnum.Start)}),p.Kb(1,"ion-icon",12),p.lc(2),p.Nb()}if(2&t){const t=p.Yb(3);p.zb(1),p.bc("src",t.stringKey.ICON_START),p.zb(1),p.nc(" \xa0 ",t.stringKey.START_SPRINT," ")}}function x(t,n){if(1&t){const t=p.Pb();p.Ob(0,"ion-button",29),p.Wb("click",function(){p.gc(t);const n=p.Yb().$implicit,e=p.Yb(2);return e.underTheHoodEditProjectSprint(n,e.sprintStatusEnum.Active,e.operationsEnum.Start)}),p.Kb(1,"ion-icon",12),p.lc(2),p.Nb()}if(2&t){const t=p.Yb(3);p.zb(1),p.bc("src",t.stringKey.ICON_START),p.zb(1),p.nc(" \xa0 ",t.stringKey.RESUME_SPRINT," ")}}function Y(t,n){if(1&t){const t=p.Pb();p.Ob(0,"ion-card"),p.Ob(1,"app-panel-header",17),p.Wb("event",function(){p.gc(t);const e=n.$implicit;return p.Yb(2).openSprintOptions(e)}),p.Nb(),p.Ob(2,"ion-grid"),p.Ob(3,"ion-row"),p.Ob(4,"ion-col",18),p.Kb(5,"app-custom-fields",19),p.Nb(),p.Ob(6,"ion-col",20),p.Ob(7,"ion-grid"),p.Ob(8,"ion-row"),p.Ob(9,"ion-col",21),p.kc(10,k,4,3,"ion-button",22),p.kc(11,P,4,3,"ion-button",23),p.kc(12,A,4,3,"ion-button",24),p.Nb(),p.Ob(13,"ion-col",21),p.kc(14,U,3,2,"ion-button",25),p.kc(15,M,3,2,"ion-button",25),p.kc(16,x,3,2,"ion-button",25),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Nb()}if(2&t){const t=n.$implicit,e=p.Yb(2);p.zb(1),p.bc("panelTitle",t.sprintName)("panelIcon",e.stringKey.ICON_DURATION)("panelColor",e.stringKey.COLOR_MEDIUM)("eventIcon",e.stringKey.ICON_MORE)("isEventRequired",!0),p.zb(4),p.bc("sprintStartDate",t.sprintStartDate)("sprintEndDate",t.sprintEndDate),p.zb(5),p.bc("ngIf",t.sprintStatus===e.sprintStatusEnum.Active),p.zb(1),p.bc("ngIf",t.sprintStatus===e.sprintStatusEnum.Future),p.zb(1),p.bc("ngIf",t.sprintStatus===e.sprintStatusEnum.Closed),p.zb(2),p.bc("ngIf",t.sprintStatus===e.sprintStatusEnum.Active),p.zb(1),p.bc("ngIf",t.sprintStatus===e.sprintStatusEnum.Future),p.zb(1),p.bc("ngIf",t.sprintStatus===e.sprintStatusEnum.Closed)}}function w(t,n){if(1&t&&(p.Mb(0),p.kc(1,Y,17,13,"ion-card",16),p.Lb()),2&t){const t=p.Yb();p.zb(1),p.bc("ngForOf",null==t.projectSprintModel?null:t.projectSprintModel.projectSprints.data)}}const F=[{path:"",component:(()=>{class t extends f.a{constructor(t,n,e,i,r){super(t),this.localStorageService=n,this.projectSprintService=e,this.loadingService=i,this.commonCrudService=r,this._hasData=!1,this.sprintStatusEnum=T,this.operationsEnum=S.a}set breadCrumb(t){this._breadCrumb=t}get breadCrumb(){return this._breadCrumb}set hasData(t){this._hasData=t}get hasData(){return this._hasData}set sprints(t){this._sprints=t}get sprints(){return this._sprints}set projectSprintModel(t){this._projectSprintModel=t}get projectSprintModel(){return this._projectSprintModel}activeUserId(){return Object(h.a)(this,void 0,void 0,function*(){this.localStorageService.getActiveUserId().pipe(Object(I.a)(this.unsubscribe)).subscribe(t=>{this._loggedInUser=t})})}ngOnInit(){this.activeUserId(),this._projectId=this.activatedRoute.snapshot.paramMap.get("projectId"),this.errorMessage=this.stringKey.NO_DATA_SPRINT}ionViewDidEnter(){this.loadData()}ngOnDestroy(){super.ngOnDestroy()}loadData(){return Object(h.a)(this,void 0,void 0,function*(){this.loadingService.present(`${O.a.API_REQUEST_MESSAGE_1}`),this.projectSprintService.getProjectSprints({projectId:this._projectId,userId:this._loggedInUser}).pipe(Object(I.a)(this.unsubscribe)).subscribe(t=>Object(h.a)(this,void 0,void 0,function*(){this.loadingService.dismiss(),t.success?(this._projectSprintModel=t.data,yield this.generateBreadcrumb(),this._projectSprintModel.projectSprints.success?this._hasData=!0:this.errorMessage=this.stringKey.NO_DATA_SPRINT):this.errorMessage=t.error.message}))})}generateBreadcrumb(){var t;return Object(h.a)(this,void 0,void 0,function*(){let n=null===(t=this._projectSprintModel.projectDetails)||void 0===t?void 0:t.projectName;this._breadCrumb=[n,this.stringKey.PROJECT_SPRINT]})}addProjectSprint(){return Object(h.a)(this,void 0,void 0,function*(){this.commonCrudService.openModalWithCreateOperation({userId:this._loggedInUser,projectId:this._projectId,sprintStatus:T.Future,operationType:`${S.a.Create}`},m.a.CRUD_SPRINT),this.commonCrudService.loadDataUponModalClose.subscribe(t=>{!0===t&&this.loadData()})})}editProjectSprint(t){return Object(h.a)(this,void 0,void 0,function*(){const n=Object.assign(Object.assign({},t),{userId:this._loggedInUser,projectId:this._projectId,operationType:`${S.a.Delete}`});this.commonCrudService.openModalWithEditOperation(n,m.a.CRUD_SPRINT),this.commonCrudService.loadDataUponModalClose.subscribe(t=>{t&&this.loadData()})})}underTheHoodEditProjectSprint(t,n,e){return Object(h.a)(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},t),{userId:this._loggedInUser,sprintStatus:n,projectId:this._projectId,operationType:e});this.commonCrudService.underTheHoodEditOperation(i,this.projectSprintService,m.a.CRUD_SPRINT,this.stringKey.CHANGE_SPRINT_STATUS,e),this.commonCrudService.loadDataUponObjectDeleted.subscribe(t=>{t&&this.loadData()})})}deleteProjectSprint(t){return Object(h.a)(this,void 0,void 0,function*(){Object.assign(Object.assign({},t),{userId:this._loggedInUser,projectId:this._projectId,operationType:`${S.a.Delete}`}),this.commonCrudService.deleteOperation(t,this.projectSprintService,m.a.CRUD_SPRINT,this.stringKey.ALERT_DELETE_PROJECT_SPRINT),this.commonCrudService.loadDataUponObjectDeleted.subscribe(t=>{t&&this.loadData()})})}openSprintOptions(t){return Object(h.a)(this,void 0,void 0,function*(){const n=yield this.actionSheetController.create({header:this.stringKey.CHOOSE_YOUR_ACTION,buttons:[{text:this.stringKey.EDIT+" "+this.stringKey.DETAILS,icon:this.stringKey.ICON_EDIT,handler:()=>{this.editProjectSprint(t)}},{text:this.stringKey.DELETE+" "+this.stringKey.DETAILS,icon:this.stringKey.ICON_EDIT,handler:()=>{this.deleteProjectSprint(t)}},{text:this.stringKey.CANCEL,icon:this.stringKey.ICON_CANCEL,handler:()=>{}}]});yield n.present()})}}return t.\u0275fac=function(n){return new(n||t)(p.Jb(p.t),p.Jb(N.a),p.Jb(_.a),p.Jb(v.a),p.Jb(E.a))},t.\u0275cmp=p.Db({type:t,selectors:[["project-users"]],features:[p.wb],decls:19,vars:9,consts:[[3,"appScrollTracker"],["color","primary"],["slot","start"],["slot","end",3,"click"],["slot","start",3,"src"],["scrollEvents","true"],["scrollArea",""],[3,"title","info"],[3,"crumbs"],["slot","fixed",3,"ionRefresh"],["slot","fixed","vertical","bottom","horizontal","end"],["color","dark",3,"click"],[3,"src"],[3,"sprint","text",4,"ngIf"],[4,"ngIf"],[3,"sprint","text"],[4,"ngFor","ngForOf"],[3,"panelTitle","panelIcon","panelColor","eventIcon","isEventRequired","event"],["size-lg","9","size-md","9","size-xl","9","size-sm","12","size-xs","12"],[3,"sprintStartDate","sprintEndDate"],["size-lg","3","size-md","3","size-xl","3","size-sm","12","size-xs","12"],["size-lg","12","size-md","12","size-xl","12","size-sm","6","size-xs","6"],["color","success","expand","block",4,"ngIf"],["color","semi-dark","expand","block",4,"ngIf"],["color","warning","expand","block",4,"ngIf"],["color","dark","expand","block",3,"click",4,"ngIf"],["color","success","expand","block"],["color","semi-dark","expand","block"],["color","warning","expand","block"],["color","dark","expand","block",3,"click"]],template:function(t,n){if(1&t&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-toolbar",1),p.Ob(2,"ion-title"),p.lc(3),p.Nb(),p.Ob(4,"ion-buttons",2),p.Kb(5,"ion-menu-button"),p.Nb(),p.Ob(6,"ion-buttons",3),p.Wb("click",function(){return n.loadData()}),p.Kb(7,"ion-icon",4),p.Nb(),p.Nb(),p.Nb(),p.Ob(8,"ion-content",5,6),p.Kb(10,"app-page-info-title",7),p.Kb(11,"app-breadcrumb",8),p.Ob(12,"ion-refresher",9),p.Wb("ionRefresh",function(t){return n.doRefresh(t)}),p.Kb(13,"ion-refresher-content"),p.Nb(),p.Ob(14,"ion-fab",10),p.Ob(15,"ion-fab-button",11),p.Wb("click",function(){return n.addProjectSprint()}),p.Kb(16,"ion-icon",12),p.Nb(),p.Nb(),p.kc(17,z,1,2,"app-no-data",13),p.kc(18,w,2,1,"ng-container",14),p.Nb()),2&t){const t=p.fc(9);p.bc("appScrollTracker",t),p.zb(3),p.nc(" ",n.stringKey.PROJECT_SPRINT," "),p.zb(4),p.bc("src",n.stringKey.ICON_REFRESH),p.zb(3),p.bc("title",n.stringKey.PROJECT_SPRINT)("info",n.stringKey.PROJECT_SPRINT_INFO),p.zb(1),p.bc("crumbs",n.breadCrumb),p.zb(5),p.bc("src",n.stringKey.ICON_ADD),p.zb(1),p.bc("ngIf",!n.hasData),p.zb(1),p.bc("ngIf",n.hasData)}},directives:[s.u,j.a,s.Q,s.O,s.k,s.B,s.v,s.o,C.a,R.a,s.F,s.G,s.q,s.r,i.j,y.a,i.i,s.l,D.a,s.t,s.I,s.n,K.a,s.j],styles:[""]}),t})()}];let H=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({imports:[[i.b,s.R,b.a,u,l.a,a.a,c.a,g.a,o.a,d.a,r.k.forChild(F)]]}),t})()}}]);