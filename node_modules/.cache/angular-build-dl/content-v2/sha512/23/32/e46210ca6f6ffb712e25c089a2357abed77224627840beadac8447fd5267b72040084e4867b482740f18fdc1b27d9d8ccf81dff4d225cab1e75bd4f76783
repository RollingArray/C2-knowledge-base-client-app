(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{ylDi:function(t,e,i){"use strict";i.r(e),i.d(e,"MyProjectPageModule",function(){return G});var n=i("ofXK"),o=i("tyNb"),r=i("TEn/"),s=i("x+rT"),c=i("T7yn"),a=i("YEJG"),b=i("fXoL");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[n.b,a.a,r.R,c.a]]}),t})();var p=i("4qs/");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[n.b,a.a,r.R]]}),t})();var d=i("0/kf"),g=i("UHEk"),h=i("sWve");let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[n.b,r.R]]}),t})();var v=i("aqvf"),m=i("RStK"),f=i("mrSG"),T=i("pcCU"),_=i("1G5W"),I=i("Mk8q"),y=i("q/pJ"),C=i("YzNG"),N=i("dfv2"),E=i("Ppwi"),P=i("y7ii"),j=i("vGT6");let K=(()=>{class t{constructor(t,e){this.navParams=t,this.popoverController=e,this.stringKey=j.a,this._toolTip=this.navParams.get("data")}get toolTip(){return this._toolTip}ngOnInit(){return Object(f.a)(this,void 0,void 0,function*(){})}gotIt(){this.popoverController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(r.X),b.Jb(r.Z))},t.\u0275cmp=b.Db({type:t,selectors:[["tool-tip"]],decls:6,vars:3,consts:[[1,"title"],[1,"sub-title",3,"innerHTML"],[1,"float-button","width-60-p",3,"click"]],template:function(t,e){1&t&&(b.Ob(0,"ion-content"),b.Ob(1,"div",0),b.lc(2),b.Nb(),b.Kb(3,"div",1),b.Ob(4,"ion-button",2),b.Wb("click",function(){return e.gotIt()}),b.lc(5),b.Nb(),b.Nb()),2&t&&(b.zb(2),b.nc(" ",e.toolTip.title," "),b.zb(1),b.bc("innerHTML",e.toolTip.subTitle,b.hc),b.zb(2),b.mc(e.stringKey.OK))},directives:[r.o,r.j],styles:[".title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;padding-bottom:10px;border-bottom:2px solid var(--ion-color-light);color:var(--ion-color-dark)}.sub-title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{position:relative;align-items:flex-end;letter-spacing:0;margin:15px}.sub-title[_ngcontent-%COMP%]{font-size:12px;font-weight:400}ion-button[_ngcontent-%COMP%]{margin:15px}"]}),t})(),S=(()=>{class t{constructor(t){this.popoverController=t}presentToolTipToast(t,e,i){return Object(f.a)(this,void 0,void 0,function*(){const n={title:t,subTitle:e},o=yield this.popoverController.create({component:K,cssClass:"tooltip-view",componentProps:{data:n},event:i,mode:"ios",translucent:!0});yield o.present()})}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(r.Z))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=i("DGRb"),D=i("Pghi"),L=i("SIl3"),M=i("wCMH"),$=i("NvSi"),k=i("gtxo"),z=i("Lygr");function w(t,e){if(1&t&&b.Kb(0,"app-no-data",17),2&t){const t=b.Yb();b.bc("project",!0)("text",t.errorMessage)}}function A(t,e){if(1&t){const t=b.Pb();b.Ob(0,"app-avatar",25),b.Wb("click",function(i){b.gc(t);const n=e.$implicit,o=b.Yb().$implicit,r=b.Yb(2);return r.avatarToolTip(r.userTypeEnum.Reviewer,o.projectName,n,i)}),b.Nb()}if(2&t){const t=e.$implicit,i=b.Yb(3);b.bc("user",t)("icon",i.stringKey.ICON_STAR)}}function x(t,e){if(1&t){const t=b.Pb();b.Ob(0,"app-avatar",25),b.Wb("click",function(i){b.gc(t);const n=e.$implicit,o=b.Yb().$implicit,r=b.Yb(2);return r.avatarToolTip(r.userTypeEnum.Assignee,o.projectName,n,i)}),b.Nb()}if(2&t){const t=e.$implicit,i=b.Yb(3);b.bc("user",t)("icon",i.stringKey.ICON_PEN)}}function J(t,e){if(1&t){const t=b.Pb();b.Ob(0,"app-avatar",25),b.Wb("click",function(i){b.gc(t);const n=e.$implicit,o=b.Yb().$implicit,r=b.Yb(2);return r.avatarToolTip(r.userTypeEnum.Administrator,o.projectName,n,i)}),b.Nb()}if(2&t){const t=e.$implicit,i=b.Yb(3);b.bc("user",t)("icon",i.stringKey.ICON_COG)}}function U(t,e){if(1&t){const t=b.Pb();b.Ob(0,"ion-col",19),b.Ob(1,"ion-card"),b.Ob(2,"app-panel-header",20),b.Wb("event",function(){b.gc(t);const i=e.$implicit;return b.Yb(2).openProjectOptions(i)}),b.Nb(),b.Kb(3,"app-custom-fields",21),b.Ob(4,"ion-grid"),b.Ob(5,"ion-row"),b.Ob(6,"ion-col"),b.Ob(7,"ion-button",22),b.Wb("click",function(){b.gc(t);const i=e.$implicit;return b.Yb(2).goProjectDetails(i)}),b.lc(8),b.Kb(9,"ion-icon",6),b.Nb(),b.Ob(10,"ion-button",22),b.Wb("click",function(){b.gc(t);const i=e.$implicit;return b.Yb(2).nextStep(i)}),b.lc(11),b.Kb(12,"ion-icon",6),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(13,"div",23),b.kc(14,A,1,2,"app-avatar",24),b.kc(15,x,1,2,"app-avatar",24),b.kc(16,J,1,2,"app-avatar",24),b.Nb(),b.Nb(),b.Nb()}if(2&t){const t=e.$implicit,i=b.Yb(2);b.zb(2),b.bc("panelTitle",t.projectName)("panelIcon",i.stringKey.ICON_PROJECT)("panelColor",i.stringKey.COLOR_MEDIUM)("eventIcon",i.stringKey.ICON_MORE)("isEventRequired",!0),b.zb(1),b.bc("description",t.projectDescription),b.zb(5),b.nc(" ",i.stringKey.GO," \xa0\xa0 "),b.zb(1),b.bc("src",i.stringKey.ICON_RIGHT_ARROW),b.zb(2),b.nc(" ",i.stringKey.NEXT," \xa0\xa0 "),b.zb(1),b.bc("src",i.stringKey.ICON_RIGHT_ARROW),b.zb(2),b.bc("ngForOf",t.projectReviewers.data),b.zb(1),b.bc("ngForOf",t.projectAssignees.data),b.zb(1),b.bc("ngForOf",t.projectAdministrator.data)}}function W(t,e){if(1&t&&(b.Mb(0),b.Ob(1,"ion-grid"),b.Ob(2,"ion-row"),b.kc(3,U,17,13,"ion-col",18),b.Nb(),b.Nb(),b.Lb()),2&t){const t=b.Yb();b.zb(3),b.bc("ngForOf",t.projects)}}const Y=[{path:"",component:(()=>{class t extends T.a{constructor(t,e,i,n,o,r,s){super(t),this.projectService=e,this.loadingService=i,this.localStorageService=n,this.commonCrudService=o,this.toolTipService=r,this.avatarService=s,this._hasData=!1,this.userTypeEnum=y.a}get projects(){return this._projects}get hasData(){return this._hasData}get loggedInUserName(){let t="";return this.localStorageService.getActiveUserName().pipe(Object(_.a)(this.unsubscribe)).subscribe(e=>{t=e}),`${this.stringKey.WELCOME}, ${t}`}set projects(t){this._projects=t}set hasData(t){this._hasData=t}get avatar(){let t="";return this.localStorageService.getActiveUser().pipe(Object(_.a)(this.unsubscribe)).subscribe(e=>{t=this.avatarService.avatar(e.userFirstName)}),t}ngOnInit(){this.getCurrentUserId(),this.loadData()}ionViewWillEnter(){}ionViewDidLeave(){}ionViewWillLeave(){}ionViewDidEnter(){}ngOnDestroy(){super.ngOnDestroy()}getCurrentUserId(){return Object(f.a)(this,void 0,void 0,function*(){this.localStorageService.getActiveUserId().pipe(Object(_.a)(this.unsubscribe)).subscribe(t=>{this._loggedInUser=t})})}loadData(){return Object(f.a)(this,void 0,void 0,function*(){this.loadingService.present(`${this.stringKey.API_REQUEST_MESSAGE_1}`),this.projectService.getUserProject({userId:this._loggedInUser}).pipe(Object(_.a)(this.unsubscribe)).subscribe(t=>Object(f.a)(this,void 0,void 0,function*(){yield this.loadingService.dismiss(),t.data.success?(this._hasData=!0,this._projects=t.data.data):this.errorMessage=this.stringKey.NO_DATA_MY_PROJECT}))})}nextStep(t){this.commonCrudService.openNextStep(I.a.CRUD_PROJECT,t.projectName)}addProject(){return Object(f.a)(this,void 0,void 0,function*(){this.commonCrudService.openModalWithCreateOperation({projectName:"",projectDescription:""},I.a.CRUD_PROJECT),this.commonCrudService.loadDataUponModalClose.subscribe(t=>{!0===t&&this.loadData()})})}editProject(t){return Object(f.a)(this,void 0,void 0,function*(){this.commonCrudService.openModalWithEditOperation(t,I.a.CRUD_PROJECT),this.commonCrudService.loadDataUponModalClose.subscribe(t=>{t&&this.loadData()})})}deleteProject(t){return Object(f.a)(this,void 0,void 0,function*(){this.commonCrudService.deleteOperation(t,this.projectService,"crudProject",this.stringKey.ALERT_DELETE_PROJECT),this.commonCrudService.loadDataUponObjectDeleted.subscribe(t=>{t&&this.loadData()})})}openProjectOptions(t){return Object(f.a)(this,void 0,void 0,function*(){yield this.localStorageService.setSelectProject(t).pipe(Object(_.a)(this.unsubscribe)).subscribe(()=>Object(f.a)(this,void 0,void 0,function*(){}));const e=yield this.actionSheetController.create({header:this.stringKey.CHOOSE_YOUR_ACTION,buttons:[{text:this.stringKey.VIEW+" "+this.stringKey.PROJECT_DETAILS,icon:this.stringKey.ICON_VIEW,handler:()=>{this.goProjectDetails(t)}},{text:this.stringKey.EDIT+" "+this.stringKey.PROJECT_DETAIL,icon:this.stringKey.ICON_EDIT,handler:()=>{this.editProject(t)}},{text:this.stringKey.DELETE+" "+this.stringKey.PROJECT_DETAIL,icon:this.stringKey.ICON_DELETE,handler:()=>{this.deleteProject(t)}},{text:this.stringKey.CANCEL,icon:this.stringKey.ICON_CANCEL,handler:()=>{}}]});yield e.present()})}goProjectDetails(t){this.router.navigate([t.projectId,"go"],{relativeTo:this.activatedRoute})}logout(){return Object(f.a)(this,void 0,void 0,function*(){this.commonCrudService.logoutUser()})}avatarToolTip(t,e,i,n){let o=`${i.userFirstName} ${i.userLastName}`,r="";switch(t){case y.a.Reviewer:r=`\n\t\t\t\t\t\t\t<b>${i.userFirstName} ${i.userLastName}</b> \n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_IS_A} \n\t\t\t\t\t\t\t<b>${this.stringKey.TOOL_TIP_IS_REVIEWER}</b>\n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_IN} \n\t\t\t\t\t\t\t<b>${e}</b> \n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_PROJECT}`;break;case y.a.Administrator:r=`\n\t\t\t\t\t\t\t<b>${i.userFirstName} ${i.userLastName}</b> \n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_IS_AN} \n\t\t\t\t\t\t\t<b>${this.stringKey.TOOL_TIP_IS_ADMIN}</b>\n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_IN} \n\t\t\t\t\t\t\t<b>${e}</b> \n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_PROJECT}`;break;case y.a.Assignee:r=`\n\t\t\t\t\t\t\t<b>${i.userFirstName} ${i.userLastName}</b> \n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_IS_AN} \n\t\t\t\t\t\t\t<b>${this.stringKey.TOOL_TIP_IS_ASSIGNEE}</b>\n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_IN} \n\t\t\t\t\t\t\t<b>${e}</b> \n\t\t\t\t\t\t\t${this.stringKey.TOOL_TIP_PROJECT}`}this.toolTipService.presentToolTipToast(o,r,n)}viewProfile(){return Object(f.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:C.a,componentProps:{data:{}}});return t.onDidDismiss().then(t=>{}),yield t.present()})}openLoggedInUserOptions(){return Object(f.a)(this,void 0,void 0,function*(){const t=yield this.actionSheetController.create({header:this.stringKey.CHOOSE_YOUR_ACTION,buttons:[{text:this.stringKey.MY_PROFILE,icon:this.stringKey.ICON_EDIT,handler:()=>{this.viewProfile()}},{text:this.stringKey.LOGOUT,icon:this.stringKey.ICON_LOGOUT,handler:()=>{this.logout()}}]});yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(b.t),b.Jb(N.a),b.Jb(E.a),b.Jb(P.a),b.Jb(m.a),b.Jb(S),b.Jb(R.a))},t.\u0275cmp=b.Db({type:t,selectors:[["app-my-project"]],features:[b.wb],decls:22,vars:15,consts:[[3,"appScrollTracker"],["color","primary"],["slot","end",3,"click"],["slot","start",3,"src"],["slot","start",3,"click"],["slot",""],[3,"src"],["scrollEvents","true"],["scrollArea",""],[3,"title","info"],["slot","fixed",3,"ionRefresh"],["slot","fixed","vertical","bottom","horizontal","end"],["color","dark",3,"click"],[3,"panelTitle","isLargeIcon","panelIcon","panelColor","eventIcon","isEventRequired","event"],[3,"project","text",4,"ngIf"],[4,"ngIf"],["id","dum-height"],[3,"project","text"],["size-lg","6","size-md","6","size-sm","6","size","12",4,"ngFor","ngForOf"],["size-lg","6","size-md","6","size-sm","6","size","12"],[3,"panelTitle","panelIcon","panelColor","eventIcon","isEventRequired","event"],[3,"description"],["color","primary",1,"go",3,"click"],[1,"users"],[3,"user","icon","click",4,"ngFor","ngForOf"],[3,"user","icon","click"]],template:function(t,e){if(1&t&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar",1),b.Ob(2,"ion-title"),b.lc(3),b.Nb(),b.Ob(4,"ion-buttons",2),b.Wb("click",function(){return e.loadData()}),b.Kb(5,"ion-icon",3),b.Nb(),b.Ob(6,"ion-buttons",4),b.Wb("click",function(){return e.loadData()}),b.Ob(7,"ion-avatar",5),b.Kb(8,"img",6),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(9,"ion-content",7,8),b.Kb(11,"app-page-info-title",9),b.Ob(12,"ion-refresher",10),b.Wb("ionRefresh",function(t){return e.doRefresh(t)}),b.Kb(13,"ion-refresher-content"),b.Nb(),b.Ob(14,"ion-fab",11),b.Ob(15,"ion-fab-button",12),b.Wb("click",function(){return e.addProject()}),b.Kb(16,"ion-icon",6),b.Nb(),b.Nb(),b.Ob(17,"ion-card"),b.Ob(18,"app-panel-header",13),b.Wb("event",function(){return e.openLoggedInUserOptions()}),b.Nb(),b.Nb(),b.kc(19,w,1,2,"app-no-data",14),b.kc(20,W,4,1,"ng-container",15),b.Kb(21,"div",16),b.Nb()),2&t){const t=b.fc(10);b.bc("appScrollTracker",t),b.zb(3),b.nc(" ",e.stringKey.MY_PROJECT," "),b.zb(2),b.bc("src",e.stringKey.ICON_REFRESH),b.zb(3),b.bc("src",e.stringKey.IMAGE_ICON,b.ic),b.zb(3),b.bc("title",e.stringKey.MY_PROJECT)("info",e.stringKey.MY_PROJECT_INFO),b.zb(5),b.bc("src",e.stringKey.ICON_ADD),b.zb(2),b.bc("panelTitle",e.loggedInUserName)("isLargeIcon",!0)("panelIcon",e.avatar)("panelColor",e.stringKey.COLOR_MEDIUM)("eventIcon",e.stringKey.ICON_MORE)("isEventRequired",!0),b.zb(1),b.bc("ngIf",!e.hasData),b.zb(1),b.bc("ngIf",e.hasData)}},directives:[r.u,D.a,r.Q,r.O,r.k,r.v,r.g,r.o,L.a,r.F,r.G,r.q,r.r,r.l,M.a,n.j,$.a,r.t,r.I,n.i,r.n,k.a,r.j,z.a],styles:[".log-in-avatar[_ngcontent-%COMP%]{margin:20px}.vertical-center[_ngcontent-%COMP%]{display:flex!important;align-content:left!important;align-items:center!important}.users[_ngcontent-%COMP%]{border-top:2px solid var(--ion-color-light);padding:5px;margin:5px}.go[_ngcontent-%COMP%]{float:right;margin-right:10px}app-avatar[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:":projectId/go",loadChildren:()=>i.e(0).then(i.bind(null,"+eMj")).then(t=>t.MenuPageModule)}];let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({providers:[m.a],imports:[[n.b,r.R,a.a,l,d.a,c.a,g.a,h.a,p.a,s.a,u,O,v.a,o.k.forChild(Y)]]}),t})()}}]);